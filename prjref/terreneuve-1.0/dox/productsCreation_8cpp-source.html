<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>productsCreation.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>productsCreation.cpp</h1><a href="productsCreation_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#include ".\productscreation.h"</span>
00002 
00003 
<a name="l00004"></a><a class="code" href="productsCreation_8h.html#a0">00004</a> <span class="keywordtype">bool</span> <a class="code" href="productsCreation_8h.html#a0">productsCreationMenu</a>(<a class="code" href="structmarketData.html">marketData</a> data)
00005 {
00006         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00007         cout&lt;&lt;<span class="stringliteral">"****** Products Creation Module ******"</span>&lt;&lt;endl;
00008         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00009 
00010         <span class="keywordtype">bool</span> replay=<span class="keyword">true</span>;
00011         <span class="keywordflow">while</span> (replay){
00012                 cout&lt;&lt;<span class="stringliteral">"\nThe available products are (type their number to use them, or another key to get back) :"</span>&lt;&lt;endl;
00013                 cout&lt;&lt;<span class="stringliteral">"1 - Black Scholes Call/Put"</span>&lt;&lt;endl;
00014                 cout&lt;&lt;<span class="stringliteral">"2 - Strategies combining Calls and Puts"</span>&lt;&lt;endl;
00015                 cout&lt;&lt;<span class="stringliteral">"3 - Exotics options on single underlying"</span>&lt;&lt;endl;
00016                 cout&lt;&lt;<span class="stringliteral">"4 - Treasury/Risky bond"</span>&lt;&lt;endl;
00017                 cout&lt;&lt;<span class="stringliteral">"5 - Vanilla interest rate swap"</span>&lt;&lt;endl;
00018                 cout&lt;&lt;<span class="stringliteral">"6 - Rainbow Options"</span>&lt;&lt;endl;
00019                 cout&lt;&lt;<span class="stringliteral">"7 - Convertible bond"</span>&lt;&lt;endl;
00020                 <a class="code" href="types_8h.html#a7">Natural</a> choice=0;
00021                 cin&gt;&gt;choice;
00022                 <span class="keywordflow">switch</span>(choice){
00023                         <span class="keywordflow">case</span> 1:
00024                                 <a class="code" href="productsCreation_8h.html#a1">inputBSOption</a>(data);
00025                                 <span class="keywordflow">break</span>;
00026                         <span class="keywordflow">case</span> 2:
00027                                 <a class="code" href="productsCreation_8h.html#a3">inputOptionStrategy</a>(data);
00028                                 <span class="keywordflow">break</span>;
00029                         <span class="keywordflow">case</span> 3:
00030                                 <a class="code" href="productsCreation_8h.html#a11">inputExoticOptionOnSingleAsset</a>(data);
00031                                 <span class="keywordflow">break</span>;
00032                         <span class="keywordflow">case</span> 4:
00033                                 <a class="code" href="productsCreation_8h.html#a13">inputBond</a>(data);
00034                                 <span class="keywordflow">break</span>;
00035                         <span class="keywordflow">case</span> 5:
00036                                 <a class="code" href="productsCreation_8h.html#a15">inputVanillaSwap</a>(data);
00037                                 <span class="keywordflow">break</span>;
00038                         <span class="keywordflow">case</span> 6:
00039                                 <a class="code" href="productsCreation_8h.html#a18">inputRainbowOption</a>(data);
00040                                 <span class="keywordflow">break</span>;
00041                         <span class="keywordflow">case</span> 7:
00042                                 <a class="code" href="productsCreation_8h.html#a14">inputConvertibleBond</a>(data);
00043                                 <span class="keywordflow">break</span>;
00044                         <span class="keywordflow">default</span>:
00045                                 replay=<span class="keyword">false</span>;
00046                                 <span class="keywordflow">break</span>;
00047                 }
00048         }
00049 }
00050 
00051 
<a name="l00052"></a><a class="code" href="productsCreation_8h.html#a1">00052</a> <a class="code" href="classBlackScholes.html">BlackScholes</a> * <a class="code" href="productsCreation_8h.html#a1">inputBSOption</a>(<a class="code" href="structmarketData.html">marketData</a> data)
00053 {
00054         <span class="keywordtype">bool</span> useData;
00055         <a class="code" href="types_8h.html#a7">Natural</a> useMarketData;
00056         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00057         cout&lt;&lt;<span class="stringliteral">"*** Input one Black Scholes option ***"</span>&lt;&lt;endl;
00058         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00059         cout&lt;&lt;<span class="stringliteral">"\nWould you like to use the market data?\nType 1 if yes, else any other key"</span>&lt;&lt;endl;
00060         cin&gt;&gt;useMarketData;
00061         useData=(useMarketData==1);
00062         <a class="code" href="BlackScholes_8h.html#a2">TypeOptionBS</a> type;
00063         <a class="code" href="types_8h.html#a10">Real</a> spot,rate,vol,K,T;
00064         <span class="keywordtype">bool</span> isnotCorP=<span class="keyword">true</span>;
00065         <span class="keywordtype">char</span> callOrPut;
00066         <span class="keywordflow">while</span>(isnotCorP){
00067                 cout&lt;&lt;<span class="stringliteral">"\nDo you want to add a call or a put ? Type c or C for a call, and p or P"</span>&lt;&lt;endl;
00068                 cin&gt;&gt;callOrPut;
00069                 isnotCorP=!(callOrPut==<span class="charliteral">'c'</span>||callOrPut==<span class="charliteral">'C'</span>||callOrPut==<span class="charliteral">'p'</span>||callOrPut==<span class="charliteral">'P'</span>);
00070                 <span class="keywordflow">if</span>(isnotCorP)
00071                         cout&lt;&lt;<span class="stringliteral">"Your entry did not seem valid"</span>&lt;&lt;endl;
00072         }
00073         <span class="keywordflow">if</span>(callOrPut==<span class="charliteral">'c'</span>||callOrPut==<span class="charliteral">'C'</span>)
00074                 type=<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>;
00075         <span class="keywordflow">else</span> <span class="comment">// as we are sure he entered c, C, p or P</span>
00076                 type=<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>;
00077         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00078         cin&gt;&gt;spot;
00079         cout&lt;&lt;<span class="stringliteral">"What is the strike of your option?"</span>&lt;&lt;endl;
00080         cin&gt;&gt;K;
00081         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00082         cin&gt;&gt;T;
00083         <span class="keywordflow">if</span>(useData){
00084                 <a class="code" href="classDate.html">Date</a> d;
00085                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00086                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00087                 vol=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00088         }
00089         <span class="keywordflow">else</span>{
00090                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00091                 cin&gt;&gt;rate;
00092                 cout&lt;&lt;<span class="stringliteral">"What is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00093                 cin&gt;&gt;vol;
00094         }
00095         <a class="code" href="classBlackScholes.html">BlackScholes</a>* res=<span class="keyword">new</span> <a class="code" href="classBlackScholes.html">BlackScholes</a>(spot,vol,<span class="keyword">true</span>,rate,K,T,type);
00096         cout&lt;&lt;<span class="stringliteral">"You have succesfully created a "</span>&lt;&lt;K&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;<a class="code" href="productsCreation_8h.html#a2">outputCallPut</a>(callOrPut)&lt;&lt;<span class="stringliteral">" with maturity "</span>&lt;&lt;T&lt;&lt;<span class="stringliteral">", vol "</span>&lt;&lt;vol&lt;&lt;<span class="stringliteral">", rate "</span>&lt;&lt;rate&lt;&lt;<span class="stringliteral">"; while the spot is at "</span>&lt;&lt;spot&lt;&lt;endl;
00097         cout&lt;&lt;<span class="stringliteral">"Its characteristics are as follows:"</span>&lt;&lt;endl;
00098         cout&lt;&lt;<span class="stringliteral">"- Price: "</span>&lt;&lt;res-&gt;<a class="code" href="classBlackScholes.html#a3">getPrice</a>()&lt;&lt;endl;
00099         cout&lt;&lt;<span class="stringliteral">"- Delta: "</span>&lt;&lt;res-&gt;<a class="code" href="classBlackScholes.html#a4">getDelta</a>()&lt;&lt;endl;
00100         cout&lt;&lt;<span class="stringliteral">"- Gamma: "</span>&lt;&lt;res-&gt;<a class="code" href="classBlackScholes.html#a5">getGamma</a>()&lt;&lt;endl;
00101         cout&lt;&lt;<span class="stringliteral">"- Vega:  "</span>&lt;&lt;res-&gt;<a class="code" href="classBlackScholes.html#a6">getVega</a>()&lt;&lt;endl;
00102         cout&lt;&lt;<span class="stringliteral">"- Theta: "</span>&lt;&lt;res-&gt;<a class="code" href="classBlackScholes.html#a7">getTheta</a>()&lt;&lt;endl;
00103         cout&lt;&lt;<span class="stringliteral">"- Rho:   "</span>&lt;&lt;res-&gt;<a class="code" href="classBlackScholes.html#a8">getRho</a>()&lt;&lt;<span class="stringliteral">"\n"</span>&lt;&lt;endl;
00104 
00105         <span class="keywordflow">return</span> res;
00106 }
00107 
<a name="l00108"></a><a class="code" href="productsCreation_8h.html#a2">00108</a> string <a class="code" href="productsCreation_8h.html#a2">outputCallPut</a>(<span class="keywordtype">char</span> c){
00109         string res;
00110         <span class="keywordflow">if</span>(c==<span class="charliteral">'c'</span> || c==<span class="charliteral">'C'</span>)
00111                 res=<span class="stringliteral">"Call"</span>;
00112         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(c==<span class="charliteral">'p'</span> || c==<span class="charliteral">'P'</span>)
00113                         res=<span class="stringliteral">"Put"</span>;
00114         <span class="keywordflow">else</span>
00115                 res = <span class="stringliteral">""</span>;
00116         <span class="keywordflow">return</span> res;
00117 }
00118 
<a name="l00119"></a><a class="code" href="productsCreation_8h.html#a3">00119</a> <a class="code" href="classOptionStrategy.html">OptionStrategy</a> <a class="code" href="productsCreation_8h.html#a3">inputOptionStrategy</a>(<a class="code" href="structmarketData.html">marketData</a> data)
00120 {
00121         <a class="code" href="classOptionStrategy.html">OptionStrategy</a> strategy;
00122         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00123         cout&lt;&lt;<span class="stringliteral">"****** Input an Option Strategy ******"</span>&lt;&lt;endl;
00124         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00125         cout&lt;&lt;<span class="stringliteral">"\nAn option strategy is a set of Black Sholes options, you will create them separately"</span>&lt;&lt;endl;
00126         <span class="keywordtype">bool</span> replay=<span class="keyword">true</span>,addOneMoreOption,addBS;
00127         <a class="code" href="types_8h.html#a7">Natural</a> addOption,addABS,replayInput;
00128         <a class="code" href="types_8h.html#a10">Real</a> amount;
00129         <a class="code" href="types_8h.html#a7">Natural</a> count =1;
00130         <span class="keywordflow">while</span>(replay){
00131                 addOneMoreOption=<span class="keyword">true</span>;
00132                 <span class="keywordflow">while</span>(addOneMoreOption){
00133                         cout&lt;&lt;<span class="stringliteral">"Add the option number "</span>&lt;&lt;count&lt;&lt;<span class="stringliteral">":"</span>&lt;&lt;endl;
00134                         cout&lt;&lt;<span class="stringliteral">"Do you want add a single Call/Put or somehting else? Type 1 for Call/Put or another key for something else"</span>&lt;&lt;endl;
00135                         cin&gt;&gt;addABS;
00136                         addBS=(addABS==1);
00137                         <span class="keywordflow">if</span>(addBS){
00138                                 <a class="code" href="classBlackScholes.html">BlackScholes</a>* toAdd=<a class="code" href="productsCreation_8h.html#a1">inputBSOption</a>(data);
00139                                 cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00140                                 cin&gt;&gt;amount;
00141                                 strategy.<a class="code" href="classOptionStrategy.html#a3">addOneBlackScholesObject</a>(toAdd,amount);
00142                         }
00143                         <span class="keywordflow">else</span>
00144                                 <a class="code" href="productsCreation_8h.html#a4">inputSpecificOptionStrategy</a>(data,strategy);
00145                         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00146                         cout&lt;&lt;<span class="stringliteral">"****** Input an Option Strategy ******"</span>&lt;&lt;endl;
00147                         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00148                         cout&lt;&lt;<span class="stringliteral">"\nWould you like to add one more? Type 1 for yes, else another key"</span>&lt;&lt;endl;
00149                         cin&gt;&gt;addOption;
00150                         addOneMoreOption=(addOption==1);
00151                         count++;
00152                 }
00153                 cout&lt;&lt;<span class="stringliteral">"The creation process is now over. Given what you added, the charateristics of the strategy are:"</span>&lt;&lt;endl;
00154                 cout&lt;&lt;<span class="stringliteral">"- Price: "</span>&lt;&lt;strategy.<a class="code" href="classOptionStrategy.html#a16">returnPrice</a>()&lt;&lt;endl;
00155                 cout&lt;&lt;<span class="stringliteral">"- Delta: "</span>&lt;&lt;strategy.<a class="code" href="classOptionStrategy.html#a11">getGlobalDelta</a>()&lt;&lt;endl;
00156                 cout&lt;&lt;<span class="stringliteral">"- Gamma: "</span>&lt;&lt;strategy.<a class="code" href="classOptionStrategy.html#a12">getGlobalGamma</a>()&lt;&lt;endl;
00157                 cout&lt;&lt;<span class="stringliteral">"- Vega:  "</span>&lt;&lt;strategy.<a class="code" href="classOptionStrategy.html#a13">getGlobalVega</a>()&lt;&lt;endl;
00158                 cout&lt;&lt;<span class="stringliteral">"- Theta: "</span>&lt;&lt;strategy.<a class="code" href="classOptionStrategy.html#a14">getGlobalTheta</a>()&lt;&lt;endl;
00159                 cout&lt;&lt;<span class="stringliteral">"- Rho:   "</span>&lt;&lt;strategy.<a class="code" href="classOptionStrategy.html#a15">getGlobalRho</a>()&lt;&lt;<span class="stringliteral">"\n"</span>&lt;&lt;endl;
00160                 cout&lt;&lt;<span class="stringliteral">"Your strategy is now made of:\n"</span>&lt;&lt;strategy&lt;&lt;endl;
00161                 cout&lt;&lt;<span class="stringliteral">"Are you satisfied with your risk or would you like to add more options (adding negative is deleting)? Type 1 to add more or another key to stop here"</span>&lt;&lt;endl;
00162                 cin&gt;&gt;replayInput;
00163                 replay=(replayInput==1);
00164         }
00165 
00166         <span class="keywordflow">return</span> strategy;
00167 }
00168 
<a name="l00169"></a><a class="code" href="productsCreation_8h.html#a4">00169</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a4">inputSpecificOptionStrategy</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy)
00170 {
00171         <span class="keywordtype">bool</span> incorrectChoice=<span class="keyword">true</span>,useMarketData;
00172         <a class="code" href="types_8h.html#a7">Natural</a> choice=0,useData;
00173         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00174         cout&lt;&lt;<span class="stringliteral">" Add a specific option for a strategy "</span>&lt;&lt;endl;
00175         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00176         cout&lt;&lt;<span class="stringliteral">"\nWould you like to use the market data?\nType 1 if yes, else any other key"</span>&lt;&lt;endl;
00177         cin&gt;&gt;useData;
00178         useMarketData=(useData==1);
00179         <span class="keywordflow">while</span>(incorrectChoice){
00180                 cout&lt;&lt;<span class="stringliteral">"What sort of option do you want to add? Press:"</span>&lt;&lt;endl;
00181                 cout&lt;&lt;<span class="stringliteral">"1 - for a ButterflySpread"</span>&lt;&lt;endl;
00182                 cout&lt;&lt;<span class="stringliteral">"2 - for a CallSpread"</span>&lt;&lt;endl;
00183                 cout&lt;&lt;<span class="stringliteral">"3 - for a PutSpread"</span>&lt;&lt;endl;
00184                 cout&lt;&lt;<span class="stringliteral">"4 - for a RatioCallSpread"</span>&lt;&lt;endl;
00185                 cout&lt;&lt;<span class="stringliteral">"5 - for a Straddle"</span>&lt;&lt;endl;
00186                 cout&lt;&lt;<span class="stringliteral">"6 - for a Strangle"</span>&lt;&lt;endl;
00187                 cin&gt;&gt;choice;
00188                 incorrectChoice=((choice&lt;=0)||(choice&gt;6));
00189                 <span class="keywordflow">if</span>(incorrectChoice)
00190                         cout&lt;&lt;<span class="stringliteral">"Your entry did not seem valid"</span>&lt;&lt;endl;
00191         }
00192         <span class="keywordflow">switch</span> (choice){
00193                 <span class="keywordflow">case</span> 1:
00194                         <a class="code" href="productsCreation_8h.html#a5">inputButterflySpread</a>(data,strategy,useMarketData);
00195                         <span class="keywordflow">break</span>;
00196                 <span class="keywordflow">case</span> 2:
00197                         <a class="code" href="productsCreation_8h.html#a6">inputCallSpread</a>(data,strategy,useMarketData);
00198                         <span class="keywordflow">break</span>;
00199                 <span class="keywordflow">case</span> 3:
00200                         <a class="code" href="productsCreation_8h.html#a7">inputPutSpread</a>(data,strategy,useMarketData);
00201                         <span class="keywordflow">break</span>;
00202                 <span class="keywordflow">case</span> 4:
00203                         <a class="code" href="productsCreation_8h.html#a8">inputRatioCallSpread</a>(data,strategy,useMarketData);
00204                         <span class="keywordflow">break</span>;
00205                 <span class="keywordflow">case</span> 5:
00206                         <a class="code" href="productsCreation_8h.html#a9">inputStraddle</a>(data,strategy,useMarketData);
00207                         <span class="keywordflow">break</span>;
00208                 <span class="keywordflow">case</span> 6:
00209                         <a class="code" href="productsCreation_8h.html#a10">inputStrangle</a>(data,strategy,useMarketData);
00210                         <span class="keywordflow">break</span>;
00211         }
00212 }
00213 
<a name="l00214"></a><a class="code" href="productsCreation_8h.html#a5">00214</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a5">inputButterflySpread</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy,<span class="keywordtype">bool</span> useMarketData){
00215         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00216         cout&lt;&lt;<span class="stringliteral">" Add a Butterfly Spread to a strategy "</span>&lt;&lt;endl;
00217         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00218         <a class="code" href="types_8h.html#a10">Real</a> spot,K1,K2,K3,T,rate,vol1,vol2,vol3,amount;
00219         <a class="code" href="types_8h.html#a7">Natural</a> symetric;
00220         cout&lt;&lt;<span class="stringliteral">"Do you want a symetric butterfly? Type 1 for yes, else another key"</span>&lt;&lt;endl;
00221         cin&gt;&gt;symetric;
00222         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00223         cin&gt;&gt;spot;
00224         cout&lt;&lt;<span class="stringliteral">"What is the lowest strike of your option?"</span>&lt;&lt;endl;
00225         cin&gt;&gt;K1;
00226         cout&lt;&lt;<span class="stringliteral">"What is the highest strike of your option?"</span>&lt;&lt;endl;
00227         cin&gt;&gt;K2;
00228         <span class="keywordflow">if</span>(symetric==1)
00229                 K3=(K1+K2)/2.0;
00230         <span class="keywordflow">else</span>{
00231                 cout&lt;&lt;<span class="stringliteral">"What is the mid strike of the option ?"</span>&lt;&lt;endl;
00232                 cin&gt;&gt;K3;
00233                 <span class="keywordflow">while</span>(K3&gt;K2 ||K3&lt;K1){
00234                         cout&lt;&lt;<span class="stringliteral">"The mid strike should be between K1 and K2 - can you please re enter it?"</span>&lt;&lt;endl;
00235                         cin&gt;&gt;K3;
00236                 }
00237         }
00238         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00239         cin&gt;&gt;T;
00240         <span class="keywordflow">if</span>(useMarketData){
00241                 <a class="code" href="classDate.html">Date</a> d;
00242                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00243                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00244                 vol1=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K1,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00245                 vol2=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K2,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00246                 vol3=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K3,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00247         }
00248         <span class="keywordflow">else</span>{
00249                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00250                 cin&gt;&gt;rate;
00251                 cout&lt;&lt;<span class="stringliteral">"At strike K_low, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00252                 cin&gt;&gt;vol1;
00253                 cout&lt;&lt;<span class="stringliteral">"At strike K_high, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00254                 cin&gt;&gt;vol2;
00255                 cout&lt;&lt;<span class="stringliteral">"At strike K_mid, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00256                 cin&gt;&gt;vol3;
00257         }
00258         cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00259         cin&gt;&gt;amount;
00260         strategy.<a class="code" href="classOptionStrategy.html#a7">addLongButterflySpread</a>(spot,vol1,<span class="keyword">true</span>,vol2,<span class="keyword">true</span>,vol3,<span class="keyword">true</span>,rate,K1,K2,K3,T,amount);
00261 }
00262 
<a name="l00263"></a><a class="code" href="productsCreation_8h.html#a6">00263</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a6">inputCallSpread</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy,<span class="keywordtype">bool</span> useMarketData){
00264         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00265         cout&lt;&lt;<span class="stringliteral">"*** Add a CallSpread to a strategy ***"</span>&lt;&lt;endl;
00266         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00267         <a class="code" href="types_8h.html#a10">Real</a> spot,K1,K2,T,rate,vol1,vol2,amount;
00268         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00269         cin&gt;&gt;spot;
00270         cout&lt;&lt;<span class="stringliteral">"What is the lowest strike of your option?"</span>&lt;&lt;endl;
00271         cin&gt;&gt;K1;
00272         cout&lt;&lt;<span class="stringliteral">"What is the highest strike of your option?"</span>&lt;&lt;endl;
00273         cin&gt;&gt;K2;
00274         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00275         cin&gt;&gt;T;
00276         <span class="keywordflow">if</span>(useMarketData){
00277                 <a class="code" href="classDate.html">Date</a> d;
00278                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00279                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00280                 vol1=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K1,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00281                 vol2=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K2,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00282         }
00283         <span class="keywordflow">else</span>{
00284                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00285                 cin&gt;&gt;rate;
00286                 cout&lt;&lt;<span class="stringliteral">"At strike K_low, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00287                 cin&gt;&gt;vol1;
00288                 cout&lt;&lt;<span class="stringliteral">"At strike K_high, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00289                 cin&gt;&gt;vol2;
00290         }
00291         cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00292         cin&gt;&gt;amount;
00293         strategy.<a class="code" href="classOptionStrategy.html#a4">addLongCallSpread</a>(spot,vol1,<span class="keyword">true</span>,vol2,<span class="keyword">true</span>,rate,K1,K2,T,amount);
00294 }
00295 
<a name="l00296"></a><a class="code" href="productsCreation_8h.html#a7">00296</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a7">inputPutSpread</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy,<span class="keywordtype">bool</span> useMarketData){
00297         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00298         cout&lt;&lt;<span class="stringliteral">"*** Add a Put Spread to a strategy ***"</span>&lt;&lt;endl;
00299         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00300         <a class="code" href="types_8h.html#a10">Real</a> spot,K1,K2,T,rate,vol1,vol2,amount;
00301         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00302         cin&gt;&gt;spot;
00303         cout&lt;&lt;<span class="stringliteral">"What is the lowest strike of your option?"</span>&lt;&lt;endl;
00304         cin&gt;&gt;K1;
00305         cout&lt;&lt;<span class="stringliteral">"What is the highest strike of your option?"</span>&lt;&lt;endl;
00306         cin&gt;&gt;K2;
00307         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00308         cin&gt;&gt;T;
00309         <span class="keywordflow">if</span>(useMarketData){
00310                 <a class="code" href="classDate.html">Date</a> d;
00311                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00312                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00313                 vol1=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K1,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00314                 vol2=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K2,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00315         }
00316         <span class="keywordflow">else</span>{
00317                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00318                 cin&gt;&gt;rate;
00319                 cout&lt;&lt;<span class="stringliteral">"At strike K_low, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00320                 cin&gt;&gt;vol1;
00321                 cout&lt;&lt;<span class="stringliteral">"At strike K_high, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00322                 cin&gt;&gt;vol2;
00323         }
00324         cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00325         cin&gt;&gt;amount;
00326         strategy.<a class="code" href="classOptionStrategy.html#a10">addLongPutSpread</a>(spot,vol1,<span class="keyword">true</span>,vol2,<span class="keyword">true</span>,rate,K1,K2,T,amount);
00327 }
00328 
<a name="l00329"></a><a class="code" href="productsCreation_8h.html#a8">00329</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a8">inputRatioCallSpread</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy,<span class="keywordtype">bool</span> useMarketData){
00330         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00331         cout&lt;&lt;<span class="stringliteral">" Add a Ratio CallSpread to a strategy "</span>&lt;&lt;endl;
00332         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00333         <a class="code" href="types_8h.html#a10">Real</a> spot,K1,K2,T,rate,vol1,vol2,amount;
00334         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00335         cin&gt;&gt;spot;
00336         cout&lt;&lt;<span class="stringliteral">"What is the lowest strike of your option?"</span>&lt;&lt;endl;
00337         cin&gt;&gt;K1;
00338         cout&lt;&lt;<span class="stringliteral">"What is the highest strike of your option?"</span>&lt;&lt;endl;
00339         cin&gt;&gt;K2;
00340         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00341         cin&gt;&gt;T;
00342         <span class="keywordflow">if</span>(useMarketData){
00343                 <a class="code" href="classDate.html">Date</a> d;
00344                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00345                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00346                 vol1=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K1,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00347                 vol2=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K2,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00348         }
00349         <span class="keywordflow">else</span>{
00350                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00351                 cin&gt;&gt;rate;
00352                 cout&lt;&lt;<span class="stringliteral">"At strike K_low, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00353                 cin&gt;&gt;vol1;
00354                 cout&lt;&lt;<span class="stringliteral">"At strike K_high, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00355                 cin&gt;&gt;vol2;
00356         }
00357         cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00358         cin&gt;&gt;amount;
00359         strategy.<a class="code" href="classOptionStrategy.html#a9">addLongRatioCallSpread</a>(spot,vol1,<span class="keyword">true</span>,vol2,<span class="keyword">true</span>,rate,K1,K2,T,amount);
00360 }
00361 
<a name="l00362"></a><a class="code" href="productsCreation_8h.html#a9">00362</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a9">inputStraddle</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy,<span class="keywordtype">bool</span> useMarketData){
00363         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00364         cout&lt;&lt;<span class="stringliteral">"**** Add a Straddle to a strategy ****"</span>&lt;&lt;endl;
00365         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00366         <a class="code" href="types_8h.html#a10">Real</a> spot,K1,T,rate,vol1,amount;
00367         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00368         cin&gt;&gt;spot;
00369         cout&lt;&lt;<span class="stringliteral">"What is the strike of your option?"</span>&lt;&lt;endl;
00370         cin&gt;&gt;K1;
00371         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00372         cin&gt;&gt;T;
00373         <span class="keywordflow">if</span>(useMarketData){
00374                 <a class="code" href="classDate.html">Date</a> d;
00375                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00376                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00377                 vol1=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K1,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00378         }
00379         <span class="keywordflow">else</span>{
00380                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00381                 cin&gt;&gt;rate;
00382                 cout&lt;&lt;<span class="stringliteral">"What is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00383                 cin&gt;&gt;vol1;
00384         }
00385         cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00386         cin&gt;&gt;amount;
00387         strategy.<a class="code" href="classOptionStrategy.html#a5">addLongStraddle</a>(spot,vol1,<span class="keyword">true</span>,rate,K1,T,amount);
00388 }
00389 
<a name="l00390"></a><a class="code" href="productsCreation_8h.html#a10">00390</a> <span class="keywordtype">void</span> <a class="code" href="productsCreation_8h.html#a10">inputStrangle</a>(<a class="code" href="structmarketData.html">marketData</a> data,<a class="code" href="classOptionStrategy.html">OptionStrategy</a>&amp; strategy,<span class="keywordtype">bool</span> useMarketData){
00391         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00392         cout&lt;&lt;<span class="stringliteral">"**** Add a Strangle to a strategy ****"</span>&lt;&lt;endl;
00393         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00394         <a class="code" href="types_8h.html#a10">Real</a> spot,K1,K2,T,rate,vol1,vol2,amount;
00395         cout&lt;&lt;<span class="stringliteral">"What is the spot level of your underlying?"</span>&lt;&lt;endl;
00396         cin&gt;&gt;spot;
00397         cout&lt;&lt;<span class="stringliteral">"What is the lowest strike of your option?"</span>&lt;&lt;endl;
00398         cin&gt;&gt;K1;
00399         cout&lt;&lt;<span class="stringliteral">"What is the highest strike of your option?"</span>&lt;&lt;endl;
00400         cin&gt;&gt;K2;
00401         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00402         cin&gt;&gt;T;
00403         <span class="keywordflow">if</span>(useMarketData){
00404                 <a class="code" href="classDate.html">Date</a> d;
00405                 d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00406                 rate=data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>.<a class="code" href="classyieldCurve.html#a8">spotRate</a>(T);
00407                 vol1=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K1,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00408                 vol2=data.<a class="code" href="structmarketData.html#o2">vols</a>.<a class="code" href="classvolsurface.html#a7">volatility</a>(K2,d.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*T)));
00409         }
00410         <span class="keywordflow">else</span>{
00411                 cout&lt;&lt;<span class="stringliteral">"What is the rate to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00412                 cin&gt;&gt;rate;
00413                 cout&lt;&lt;<span class="stringliteral">"At strike K_low, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00414                 cin&gt;&gt;vol1;
00415                 cout&lt;&lt;<span class="stringliteral">"At strike K_high, what is the volatility to maturity you want to use? (in absolute value)"</span>&lt;&lt;endl;
00416                 cin&gt;&gt;vol2;
00417         }
00418         cout&lt;&lt;<span class="stringliteral">"How many of these would you like to add?"</span>&lt;&lt;endl;
00419         cin&gt;&gt;amount;
00420         strategy.<a class="code" href="classOptionStrategy.html#a6">addLongStrangle</a>(spot,vol1,<span class="keyword">true</span>,vol2,<span class="keyword">true</span>,rate,K1,K2,T,amount);
00421 }
00422 
00423 
<a name="l00424"></a><a class="code" href="productsCreation_8h.html#a11">00424</a> <a class="code" href="classExotics.html">Exotics</a>* <a class="code" href="productsCreation_8h.html#a11">inputExoticOptionOnSingleAsset</a>(<a class="code" href="structmarketData.html">marketData</a>&amp; data){
00425         <span class="keywordtype">bool</span> <span class="keyword">import</span>,flatData;
00426         <a class="code" href="types_8h.html#a10">Real</a> spot,K,T,vol,rate,K2;
00427         <a class="code" href="types_8h.html#a9">LongNatural</a> asianDates;
00428         <a class="code" href="classyieldCurve.html">yieldCurve</a>* yc;
00429         <a class="code" href="classvolsurface.html">volsurface</a>* vs;
00430 
00431         cout&lt;&lt;<span class="stringliteral">"\n**************************************"</span>&lt;&lt;endl;
00432         cout&lt;&lt;<span class="stringliteral">"**** Input an Exotic option (M-C) ****"</span>&lt;&lt;endl;
00433         cout&lt;&lt;<span class="stringliteral">"**************************************\n"</span>&lt;&lt;endl;
00434 
00435         cout&lt;&lt;<span class="stringliteral">"\nWhat is the spot level of your underlying?"</span>&lt;&lt;endl;
00436         cin&gt;&gt;spot;
00437         cout&lt;&lt;<span class="stringliteral">"What is the maturity in years of your option?"</span>&lt;&lt;endl;
00438         cin&gt;&gt;T;
00439 
00440         cout&lt;&lt;<span class="stringliteral">"These options are often path dependant: would you like to re-import some data?\nType 1 to re-import, else any other key"</span>&lt;&lt;endl;
00441         cin&gt;&gt;<span class="keyword">import</span>;
00442         <span class="keywordflow">if</span>(<span class="keyword">import</span>){
00443                 <a class="code" href="classimportData.html">importData</a> tempImport;
00444                 tempImport.<a class="code" href="classimportData.html#a4">runUserDefinedInterface</a>();
00445                 data=tempImport.<a class="code" href="classimportData.html#a8">getData</a> ();
00446         }
00447         <span class="keywordflow">else</span>{
00448                 cout&lt;&lt;<span class="stringliteral">"The data was not changed, would you like to input flat volatility and yield curves?\nType 1 if yes, else the program will use the data imported earlier."</span>&lt;&lt;endl;
00449                 cin&gt;&gt;flatData;
00450                 <span class="keywordflow">if</span>(flatData){
00451                         cout&lt;&lt;<span class="stringliteral">"What is the flat rate you want to use? (in absolute value)"</span>&lt;&lt;endl;
00452                         cin&gt;&gt;rate;
00453                         cout&lt;&lt;<span class="stringliteral">"What is the flat volatility you want to use? (in absolute value)"</span>&lt;&lt;endl;
00454                         cin&gt;&gt;vol;
00455                 }
00456         }
00457         <a class="code" href="types_8h.html#a7">Natural</a> choice;
00458         <span class="keywordtype">bool</span> incorrectChoice=<span class="keyword">true</span>;
00459         <a class="code" href="Exotics_8h.html#a12">exoticsType</a> type;
00460         <span class="keywordflow">while</span>(incorrectChoice){
00461                 cout&lt;&lt;<span class="stringliteral">"\nWhat sort of option do you want to add? Press:"</span>&lt;&lt;endl;
00462                 cout&lt;&lt;<span class="stringliteral">"1 - for an AsianCall (computation can be long)"</span>&lt;&lt;endl;
00463                 cout&lt;&lt;<span class="stringliteral">"2 - for a AsianPut (computation can be long)"</span>&lt;&lt;endl;
00464                 cout&lt;&lt;<span class="stringliteral">"3 - for a RevLookbackCall"</span>&lt;&lt;endl;
00465                 cout&lt;&lt;<span class="stringliteral">"4 - for a RevLookbackPut"</span>&lt;&lt;endl;
00466                 cout&lt;&lt;<span class="stringliteral">"5 - for a FlooredCliquet"</span>&lt;&lt;endl;
00467                 cout&lt;&lt;<span class="stringliteral">"6 - for a CappedCliquet"</span>&lt;&lt;endl;
00468                 cout&lt;&lt;<span class="stringliteral">"7 - for a CollaredCliquet"</span>&lt;&lt;endl;
00469                 cout&lt;&lt;<span class="stringliteral">"8 - for a BarrierCall"</span>&lt;&lt;endl;
00470                 cout&lt;&lt;<span class="stringliteral">"9 - for a BarrierPut"</span>&lt;&lt;endl;
00471                 cin&gt;&gt;choice;
00472                 incorrectChoice=((choice&lt;=0)||(choice&gt;9));
00473                 <span class="keywordflow">if</span>(incorrectChoice)
00474                         cout&lt;&lt;<span class="stringliteral">"Your entry did not seem valid"</span>&lt;&lt;endl;
00475         }
00476         type=<a class="code" href="productsCreation_8h.html#a12">choiceToType</a>(choice);
00477         <span class="keywordflow">if</span> (type==<a class="code" href="Exotics_8h.html#a12a8">CollaredCliquet</a>){ <span class="comment">//collared are capped and floored</span>
00478                 cout&lt;&lt;<span class="stringliteral">"What is the first strike?"</span>&lt;&lt;endl;
00479                 cin&gt;&gt;K;
00480                 cout&lt;&lt;<span class="stringliteral">"What is the second strike?"</span>&lt;&lt;endl;
00481                 cin&gt;&gt;K2;
00482         }
00483         <span class="keywordflow">else</span>{
00484                 cout&lt;&lt;<span class="stringliteral">"What is the strike of the option?"</span>&lt;&lt;endl;
00485                 cin&gt;&gt;K; 
00486         }
00487         cout&lt;&lt;<span class="stringliteral">"The Monte-Carlo Price on several dates can take several minutes...\nHow many dates should be looked at in the payoff?"</span>&lt;&lt;endl;
00488         cin&gt;&gt;asianDates;
00489         asianDates=max(asianDates,(<a class="code" href="types_8h.html#a9">LongNatural</a>)1);
00490 
00491         <a class="code" href="classExotics.html">Exotics</a> * res;
00492         <span class="keywordflow">if</span>(flatData){
00493                 yc=<span class="keyword">new</span> <a class="code" href="classyieldCurve.html">yieldCurve</a>(rate);
00494                 vs=<span class="keyword">new</span> <a class="code" href="classvolsurface.html">volsurface</a>(vol);
00495                 res = <span class="keyword">new</span> <a class="code" href="classExotics.html">Exotics</a>(type,yc,vs,spot,K,T,asianDates,K2);
00496         }
00497         <span class="keywordflow">else</span>{
00498                 yc=<span class="keyword">new</span> <a class="code" href="classyieldCurve.html">yieldCurve</a>(data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>);
00499                 vs=<span class="keyword">new</span> <a class="code" href="classvolsurface.html">volsurface</a>(data.<a class="code" href="structmarketData.html#o2">vols</a>);
00500                 res = <span class="keyword">new</span> <a class="code" href="classExotics.html">Exotics</a>(type,yc,vs,spot,K,T,asianDates,K2);
00501         }
00502         
00503         cout&lt;&lt;<span class="stringliteral">"Its price is: ... being computed ...\n"</span>&lt;&lt;res-&gt;<a class="code" href="classExotics.html#a2">getPrice</a>()&lt;&lt;endl;
00504         <span class="keywordtype">bool</span> replay=<span class="keyword">true</span>;
00505         <span class="keywordflow">while</span> (replay){
00506                 cout&lt;&lt;<span class="stringliteral">"Would you like to see its greeks? Given the time it took to get a price, up to you!\nPress the corresponding number to see it, else another key"</span>&lt;&lt;endl;
00507                 cout&lt;&lt;<span class="stringliteral">"1 - Delta "</span>&lt;&lt;endl;
00508                 cout&lt;&lt;<span class="stringliteral">"2 - Vega"</span>&lt;&lt;endl;
00509                 cout&lt;&lt;<span class="stringliteral">"3 - Theta"</span>&lt;&lt;endl;
00510                 cout&lt;&lt;<span class="stringliteral">"4 - Rho"</span>&lt;&lt;<span class="stringliteral">"\n"</span>&lt;&lt;endl;
00511                 cin&gt;&gt;choice;
00512                 <span class="keywordflow">switch</span> (choice){
00513                         <span class="keywordflow">case</span> 1:
00514                                 cout&lt;&lt;<span class="stringliteral">"Delta is "</span>&lt;&lt;res-&gt;<a class="code" href="classExotics.html#a6">getDelta</a>()&lt;&lt;endl;
00515                                 <span class="keywordflow">break</span>;
00516                         <span class="keywordflow">case</span> 2:
00517                                 cout&lt;&lt;<span class="stringliteral">"Vega is "</span>&lt;&lt;res-&gt;<a class="code" href="classExotics.html#a5">getVega</a>()&lt;&lt;endl;
00518                                 <span class="keywordflow">break</span>;
00519                         <span class="keywordflow">case</span> 3:
00520                                 cout&lt;&lt;<span class="stringliteral">"Theta is "</span>&lt;&lt;res-&gt;<a class="code" href="classExotics.html#a4">getTheta</a>()&lt;&lt;endl;
00521                                 <span class="keywordflow">break</span>;
00522                         <span class="keywordflow">case</span> 4:
00523                                 cout&lt;&lt;<span class="stringliteral">"Rho is "</span>&lt;&lt;res-&gt;<a class="code" href="classExotics.html#a3">getRho</a>()&lt;&lt;endl;
00524                                 <span class="keywordflow">break</span>;
00525                         <span class="keywordflow">default</span>:
00526                                 replay=<span class="keyword">false</span>;
00527                                 <span class="keywordflow">break</span>;
00528                 }
00529         }
00530         <span class="keywordflow">return</span> res;
00531 }
00532 
<a name="l00533"></a><a class="code" href="productsCreation_8h.html#a14">00533</a> <a class="code" href="classconvertiblebond.html">convertiblebond</a> * <a class="code" href="productsCreation_8h.html#a14">inputConvertibleBond</a>(<a class="code" href="structmarketData.html">marketData</a>&amp; data) 
00534 {
00535         cout&lt;&lt;<span class="stringliteral">"*****************************"</span>&lt;&lt;endl;
00536         cout&lt;&lt;<span class="stringliteral">"*** Input one convertible ***"</span>&lt;&lt;endl;
00537         cout&lt;&lt;<span class="stringliteral">"*****************************\n"</span>&lt;&lt;endl;
00538 
00539         cout&lt;&lt;<span class="stringliteral">"First create an underlying risky bond"</span>&lt;&lt;endl;
00540 
00541         <span class="comment">// maturity in years</span>
00542         <a class="code" href="types_8h.html#a10">Real</a> theMaturity;
00543         cout &lt;&lt; <span class="stringliteral">"\nWhat is the maturity of the bond in years? e.g. 20"</span>&lt;&lt;endl;
00544         cin &gt;&gt; theMaturity;
00545 
00546         <span class="comment">// face amount</span>
00547         <a class="code" href="types_8h.html#a10">Real</a> theFace;
00548         cout &lt;&lt; <span class="stringliteral">"\nWhat is the  face amount? e.g. 1000"</span>&lt;&lt;endl;
00549         cin &gt;&gt; theFace;
00550 
00551         <span class="comment">// yield curve</span>
00552         <a class="code" href="classyieldCurve.html">yieldCurve</a> yc(data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>);
00553         <a class="code" href="types_8h.html#a7">Natural</a> yield;
00554         <span class="keywordtype">bool</span> testyield=<span class="keyword">true</span>;
00555         <span class="keywordflow">while</span> (testyield){
00556                 cout &lt;&lt; <span class="stringliteral">"Would you like to use market data for the yield curve? "</span>&lt;&lt;endl;
00557                 cout &lt;&lt; <span class="stringliteral">" 1- yes"</span>&lt;&lt;endl;
00558                 cout &lt;&lt; <span class="stringliteral">" 2- no"</span>&lt;&lt;endl;
00559                 cin &gt;&gt; yield;
00560                 <span class="keywordflow">if</span> (yield==1)
00561                         testyield=<span class="keyword">false</span>;
00562                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (yield==2){
00563                         <a class="code" href="types_8h.html#a10">Real</a> rate;
00564                         cout &lt;&lt; <span class="stringliteral">"What is the flat rate (in percentage) you want to use? e.g. 5"</span>&lt;&lt;endl;
00565                         cin &gt;&gt; rate;
00566                         yc = <a class="code" href="classyieldCurve.html">yieldCurve</a>(rate/100);
00567                         testyield=<span class="keyword">false</span>;
00568                 }
00569         }
00570 
00571         <span class="comment">// credit curve</span>
00572         <a class="code" href="classcreditCurve.html">creditCurve</a> cc(data.<a class="code" href="structmarketData.html#o1">creditcurve</a>);
00573         <a class="code" href="types_8h.html#a7">Natural</a> credit;
00574         <span class="keywordtype">bool</span> testcredit=<span class="keyword">true</span>;
00575         <span class="keywordflow">while</span> (testcredit){
00576                 cout &lt;&lt; <span class="stringliteral">"Would you like to use market data for the credit curve? "</span>&lt;&lt;endl;
00577                 cout &lt;&lt; <span class="stringliteral">" 1- yes"</span>&lt;&lt;endl;
00578                 cout &lt;&lt; <span class="stringliteral">" 2- no"</span>&lt;&lt;endl;
00579                 cin &gt;&gt; credit;
00580                 <span class="keywordflow">if</span> (credit==1)
00581                         testcredit=<span class="keyword">false</span>;
00582                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (credit==2){
00583                         <a class="code" href="types_8h.html#a10">Real</a> spread;
00584                         cout &lt;&lt; <span class="stringliteral">"What is the credit spread (in percentage) you want to use? e.g. 2"</span>&lt;&lt;endl;
00585                         cin &gt;&gt; spread;
00586                         spread/=100;
00587                         cc = <a class="code" href="classcreditCurve.html">creditCurve</a>(yc, spread);
00588                         testcredit=<span class="keyword">false</span>;
00589                 }
00590         }
00591 
00592         <span class="comment">// asset current price</span>
00593         <a class="code" href="types_8h.html#a10">Real</a> thePrice;
00594         cout &lt;&lt; <span class="stringliteral">"What is the spot level of your underlying? e.g. 2.23"</span> &lt;&lt;endl;
00595         cin &gt;&gt; thePrice;
00596 
00597         <span class="comment">// asset volatility</span>
00598         <a class="code" href="types_8h.html#a10">Real</a> theVol;
00599         cout &lt;&lt; <span class="stringliteral">"What is the volatility of the underlying - e.g. 0.44"</span> &lt;&lt; endl;
00600         cin &gt;&gt; theVol;
00601 
00602         <span class="comment">// conversion ratio</span>
00603         <a class="code" href="types_8h.html#a10">Real</a> theConversionRatio;
00604         cout &lt;&lt; <span class="stringliteral">"What is the conversion ratio for the face amount - e.g. 55.932"</span> &lt;&lt; endl;
00605         cin &gt;&gt; theConversionRatio;
00606 
00607         <span class="comment">// call price</span>
00608         <a class="code" href="types_8h.html#a10">Real</a> theCallPrice;
00609         cout &lt;&lt; <span class="stringliteral">"What is the call price for the bond - input 9999 if not callable"</span> &lt;&lt; endl;
00610         cin &gt;&gt; theCallPrice;
00611 
00612         <span class="comment">// put price</span>
00613         <a class="code" href="types_8h.html#a10">Real</a> thePutPrice;
00614         cout &lt;&lt; <span class="stringliteral">"What is the put price for the bond - input 0 if not puttable"</span> &lt;&lt; endl;
00615         cin &gt;&gt; thePutPrice;
00616 
00617         <span class="comment">// number of steps</span>
00618         <a class="code" href="types_8h.html#a7">Natural</a> theSteps;
00619         cout &lt;&lt; <span class="stringliteral">"How many steps to use in binomial tree - e.g. 10"</span> &lt;&lt; endl;
00620         cin &gt;&gt; theSteps;
00621 
00622         <a class="code" href="classDate.html">Date</a> today;
00623         today.<a class="code" href="classDate.html#a13">setDateToToday</a>();
00624         <a class="code" href="classDate.html">Date</a> todayPlusMaturity = today.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365 * theMaturity));
00625 
00626         <a class="code" href="classasset.html">asset</a> *theStock =
00627                 <span class="keyword">new</span> <a class="code" href="classasset.html">asset</a>(thePrice, theVol);
00628         <a class="code" href="classriskybond.html">riskybond</a> *theRiskyBond =
00629                 <span class="keyword">new</span> <a class="code" href="classriskybond.html">riskybond</a>(today, todayPlusMaturity, theFace, <a class="code" href="date_8h.html#a48a39">ACT_365</a>, yc, cc);
00630         <a class="code" href="classconvertiblebond.html">convertiblebond</a> *theConvertible =
00631                 <span class="keyword">new</span> <a class="code" href="classconvertiblebond.html">convertiblebond</a>(*theStock, *theRiskyBond, theConversionRatio, theSteps, theCallPrice, thePutPrice);
00632 
00633         cout &lt;&lt; <span class="stringliteral">"characteristics of this convertible:"</span> &lt;&lt; endl
00634                 &lt;&lt; theConvertible &lt;&lt; endl;
00635 
00636         <span class="keywordflow">return</span> theConvertible;
00637 }
00638 
<a name="l00639"></a><a class="code" href="productsCreation_8h.html#a13">00639</a> <a class="code" href="classbond.html">bond</a> * <a class="code" href="productsCreation_8h.html#a13">inputBond</a>(<a class="code" href="structmarketData.html">marketData</a>&amp; data)
00640 {
00641         <a class="code" href="types_8h.html#a7">Natural</a> typeofbond;
00642         cout&lt;&lt;<span class="stringliteral">"**********************"</span>&lt;&lt;endl;
00643         cout&lt;&lt;<span class="stringliteral">"*** Input one bond ***"</span>&lt;&lt;endl;
00644         cout&lt;&lt;<span class="stringliteral">"***********************\n"</span>&lt;&lt;endl;
00645         <span class="keywordtype">bool</span> test=<span class="keyword">true</span>;
00646         <span class="keywordflow">while</span>(test){
00647                 cout &lt;&lt; <span class="stringliteral">" 1- To create a treasury bond"</span>&lt;&lt;endl;
00648                 cout &lt;&lt; <span class="stringliteral">" 2- To create a risky bond"</span>&lt;&lt;endl;
00649                 cin&gt;&gt;typeofbond;
00650                 <span class="keywordflow">if</span>((typeofbond==1)||(typeofbond==2))
00651                         test = <span class="keyword">false</span>;
00652         }
00653 
00654         <a class="code" href="types_8h.html#a10">Real</a> dateofirstcoupon;
00655         cout &lt;&lt; <span class="stringliteral">"\nWhat is the time of the first coupon in years? "</span>&lt;&lt;endl;
00656         cin &gt;&gt; dateofirstcoupon;
00657 
00658 
00659         <a class="code" href="types_8h.html#a10">Real</a> dateofmaturity;
00660         cout &lt;&lt; <span class="stringliteral">"\nWhat is the maturity of the bond in years? "</span>&lt;&lt;endl;
00661         cin &gt;&gt; dateofmaturity;
00662 
00663         <a class="code" href="types_8h.html#a10">Real</a> coupon;
00664         cout &lt;&lt; <span class="stringliteral">"\nWhat is the yearly coupon (in percentage of the faceamount)? "</span>&lt;&lt;endl;
00665         cin &gt;&gt; coupon;
00666         coupon /= 100;
00667 
00668         <a class="code" href="types_8h.html#a7">Natural</a> freq;
00669         <span class="keywordtype">bool</span> testfreq=<span class="keyword">true</span>;
00670         <a class="code" href="date_8h.html#a46">Frequency</a> fr;
00671         <span class="keywordflow">while</span>(testfreq){
00672                 cout &lt;&lt; <span class="stringliteral">"\nWhat is the frequency of coupon deliveries? "</span>&lt;&lt;endl;
00673                 cout &lt;&lt; <span class="stringliteral">" 0- No frequency"</span>&lt;&lt;endl;
00674                 cout &lt;&lt; <span class="stringliteral">" 1- Once (ZeroCoupon)"</span>&lt;&lt;endl;
00675                 cout &lt;&lt; <span class="stringliteral">" 2- Annual"</span>&lt;&lt;endl;
00676                 cout &lt;&lt; <span class="stringliteral">" 3- Semiannual"</span>&lt;&lt;endl;
00677                 cout &lt;&lt; <span class="stringliteral">" 4- Every Four Months"</span>&lt;&lt;endl;
00678                 cout &lt;&lt; <span class="stringliteral">" 5- Quaterly"</span>&lt;&lt;endl;
00679                 cout &lt;&lt; <span class="stringliteral">" 6- Bimonthly"</span>&lt;&lt;endl;
00680                 cout &lt;&lt; <span class="stringliteral">" 7- Monthly"</span>&lt;&lt;endl;
00681                 cin &gt;&gt; freq;
00682 
00683                 <span class="keywordflow">switch</span> (freq) {
00684                         <span class="keywordflow">case</span> 0:
00685                                 fr = <a class="code" href="date_8h.html#a46a25">NoFrequency</a>;
00686                                 testfreq = <span class="keyword">false</span>;
00687                                 <span class="keywordflow">break</span>;
00688                         <span class="keywordflow">case</span> 1:
00689                                 fr = <a class="code" href="date_8h.html#a46a26">Once</a>;
00690                                 testfreq = <span class="keyword">false</span>;
00691                                 <span class="keywordflow">break</span>;
00692                         <span class="keywordflow">case</span> 2:
00693                                 fr = <a class="code" href="date_8h.html#a46a27">Annual</a>;
00694                                 testfreq = <span class="keyword">false</span>;
00695                                 <span class="keywordflow">break</span>;
00696                         <span class="keywordflow">case</span> 3:
00697                                 fr = <a class="code" href="date_8h.html#a46a28">Semiannual</a>;
00698                                 testfreq = <span class="keyword">false</span>;
00699                                 <span class="keywordflow">break</span>;
00700                         <span class="keywordflow">case</span> 4:
00701                                 fr = <a class="code" href="date_8h.html#a46a29">EveryFourthMonth</a>;
00702                                 testfreq = <span class="keyword">false</span>;
00703                                 <span class="keywordflow">break</span>;
00704                         <span class="keywordflow">case</span> 5:
00705                                 fr = <a class="code" href="date_8h.html#a46a30">Quarterly</a>;
00706                                 testfreq = <span class="keyword">false</span>;
00707                                 <span class="keywordflow">break</span>;
00708                         <span class="keywordflow">case</span> 6:
00709                                 fr = <a class="code" href="date_8h.html#a46a31">Bimonthly</a>;
00710                                 testfreq = <span class="keyword">false</span>;
00711                                 <span class="keywordflow">break</span>;
00712                         <span class="keywordflow">case</span> 7:
00713                                 fr = <a class="code" href="date_8h.html#a46a32">Monthly</a>;
00714                                 testfreq = <span class="keyword">false</span>;
00715                                 <span class="keywordflow">break</span>;
00716                         <span class="keywordflow">default</span>:
00717                                 <span class="keywordflow">break</span>;
00718                 }
00719         }
00720         
00721         <a class="code" href="types_8h.html#a10">Real</a> faceamount;
00722         cout &lt;&lt; <span class="stringliteral">"\nWhat is the  face amount? "</span>&lt;&lt;endl;
00723         cin &gt;&gt; faceamount;
00724         
00725 
00726         <a class="code" href="types_8h.html#a7">Natural</a> dcount;
00727         <span class="keywordtype">bool</span> testdcount=<span class="keyword">true</span>;
00728         <a class="code" href="date_8h.html#a48">DayCountConvention</a> daycount;
00729         <span class="keywordflow">while</span>(testdcount){
00730                 cout &lt;&lt; <span class="stringliteral">"\nWhat is the Day Count Convention? "</span>&lt;&lt;endl;
00731                 cout &lt;&lt; <span class="stringliteral">" 0- ACT/365"</span>&lt;&lt;endl;
00732                 cout &lt;&lt; <span class="stringliteral">" 1- ACT/360"</span>&lt;&lt;endl;
00733                 cout &lt;&lt; <span class="stringliteral">" 2- Day30/365"</span>&lt;&lt;endl;
00734                 cout &lt;&lt; <span class="stringliteral">" 3- Day30/360"</span>&lt;&lt;endl;
00735                 cin &gt;&gt; dcount;
00736 
00737                 <span class="keywordflow">switch</span> (dcount) {
00738                         <span class="keywordflow">case</span> 0:
00739                                 daycount = <a class="code" href="date_8h.html#a48a39">ACT_365</a>;
00740                                 testdcount = <span class="keyword">false</span>;
00741                                 <span class="keywordflow">break</span>;
00742                         <span class="keywordflow">case</span> 1:
00743                                 daycount = <a class="code" href="date_8h.html#a48a40">ACT_360</a>;
00744                                 testdcount = <span class="keyword">false</span>;
00745                                 <span class="keywordflow">break</span>;
00746                         <span class="keywordflow">case</span> 2:
00747                                 daycount = <a class="code" href="date_8h.html#a48a41">Day30_365</a>;
00748                                 testdcount = <span class="keyword">false</span>;
00749                                 <span class="keywordflow">break</span>;
00750                         <span class="keywordflow">case</span> 3:
00751                                 daycount = <a class="code" href="date_8h.html#a48a42">Day30_360</a>;
00752                                 testdcount = <span class="keyword">false</span>;
00753                                 <span class="keywordflow">break</span>;
00754                         <span class="keywordflow">default</span>:
00755                                 <span class="keywordflow">break</span>;
00756                 }
00757         }
00758 
00759         <a class="code" href="classDate.html">Date</a> today, maturity, firstcoupondate;
00760         today.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
00761         firstcoupondate=today.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*dateofirstcoupon)); 
00762         maturity=today.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365*dateofmaturity)); 
00763 
00764         <a class="code" href="classbond.html">bond</a>* res;
00765 
00766         <a class="code" href="classyieldCurve.html">yieldCurve</a> yc(data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>);
00767         <a class="code" href="types_8h.html#a7">Natural</a> yield;
00768         <span class="keywordtype">bool</span> testyield=<span class="keyword">true</span>;
00769         <span class="keywordflow">while</span> (testyield){
00770                 cout &lt;&lt; <span class="stringliteral">"Would you like to use market data for the yield curve? "</span>&lt;&lt;endl;
00771                 cout &lt;&lt; <span class="stringliteral">" 1- yes"</span>&lt;&lt;endl;
00772                 cout &lt;&lt; <span class="stringliteral">" 2- no"</span>&lt;&lt;endl;
00773                 cin &gt;&gt; yield;
00774                 <span class="keywordflow">if</span> (yield==1)
00775                         testyield=<span class="keyword">false</span>;
00776                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (yield==2){
00777                         <a class="code" href="types_8h.html#a10">Real</a> rate;
00778                         cout &lt;&lt; <span class="stringliteral">"What is the flat rate (in percentage) you want to use? "</span>&lt;&lt;endl;
00779                         cin &gt;&gt; rate;
00780                         yc = <a class="code" href="classyieldCurve.html">yieldCurve</a>(rate/100);
00781                         testyield=<span class="keyword">false</span>;
00782                 }
00783         }
00784         
00785         <a class="code" href="classcreditCurve.html">creditCurve</a> cc(data.<a class="code" href="structmarketData.html#o1">creditcurve</a>);
00786         <span class="keywordflow">if</span>(typeofbond==2){              
00787                 <a class="code" href="types_8h.html#a7">Natural</a> credit;
00788                 <span class="keywordtype">bool</span> testcredit=<span class="keyword">true</span>;
00789                 <span class="keywordflow">while</span> (testcredit){
00790                         cout &lt;&lt; <span class="stringliteral">"Would you like to use market data for the credit curve? "</span>&lt;&lt;endl;
00791                         cout &lt;&lt; <span class="stringliteral">" 1- yes"</span>&lt;&lt;endl;
00792                         cout &lt;&lt; <span class="stringliteral">" 2- no"</span>&lt;&lt;endl;
00793                         cin &gt;&gt; credit;
00794                         <span class="keywordflow">if</span> (credit==1)
00795                                 testcredit=<span class="keyword">false</span>;
00796                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (credit==2){
00797                                 <a class="code" href="types_8h.html#a10">Real</a> spread;
00798                                 cout &lt;&lt; <span class="stringliteral">"What is the credit spread (in percentage) you want to use? "</span>&lt;&lt;endl;
00799                                 cin &gt;&gt; spread;
00800                                 spread/=100;
00801                                 cc = <a class="code" href="classcreditCurve.html">creditCurve</a>(yc, spread);
00802                                 testcredit=<span class="keyword">false</span>;
00803                         }
00804                 }
00805         }
00806 
00807 
00808         <span class="keywordflow">switch</span> (typeofbond){
00809                 <span class="keywordflow">case</span> 1:
00810                         res = <span class="keyword">new</span> <a class="code" href="classtreasurybond.html">treasurybond</a>(today, maturity, firstcoupondate, coupon, fr, faceamount, daycount, yc);
00811                         <span class="keywordflow">break</span>;
00812                 <span class="keywordflow">case</span> 2:
00813                         res = <span class="keyword">new</span> <a class="code" href="classriskybond.html">riskybond</a>(today, maturity, firstcoupondate, coupon, fr, faceamount, daycount, yc, cc);
00814                         <span class="keywordflow">break</span>;
00815                 <span class="keywordflow">default</span>:
00816                         <span class="keywordflow">break</span>;
00817         }
00818 
00819         cout &lt;&lt;<span class="stringliteral">"*** characteristic of your bond ***"</span>&lt;&lt;endl;
00820         cout &lt;&lt; <span class="stringliteral">"fairvalue  "</span> &lt;&lt; res-&gt;<a class="code" href="classbond.html#a4">fairvalue</a>()  &lt;&lt; endl;
00821         cout &lt;&lt; <span class="stringliteral">"yield to maturity "</span> &lt;&lt; res-&gt;<a class="code" href="classbond.html#a5">yieldToMaturity</a>()  &lt;&lt; endl;
00822         cout &lt;&lt; <span class="stringliteral">"convexity  "</span> &lt;&lt; res-&gt;<a class="code" href="classbond.html#a7">convexity</a>()  &lt;&lt; endl;
00823         cout &lt;&lt; <span class="stringliteral">"duration  "</span> &lt;&lt; res-&gt;<a class="code" href="classbond.html#a6">duration</a>()  &lt;&lt; endl;
00824         cout &lt;&lt; endl;
00825 
00826 
00827         <span class="keywordflow">return</span> res;
00828 
00829 }
00830 
00831 
<a name="l00832"></a><a class="code" href="productsCreation_8h.html#a12">00832</a> <a class="code" href="Exotics_8h.html#a12">exoticsType</a> <a class="code" href="productsCreation_8h.html#a12">choiceToType</a>(<a class="code" href="types_8h.html#a7">Natural</a> choice){
00833         <a class="code" href="Exotics_8h.html#a12">exoticsType</a> type;
00834         <span class="keywordflow">switch</span> (choice){
00835                 <span class="keywordflow">case</span> 1:
00836                         type=<a class="code" href="Exotics_8h.html#a12a2">AsianCall</a>;
00837                         <span class="keywordflow">break</span>;
00838                 <span class="keywordflow">case</span> 2:
00839                         type=<a class="code" href="Exotics_8h.html#a12a3">AsianPut</a>;
00840                         <span class="keywordflow">break</span>;
00841                 <span class="keywordflow">case</span> 3:
00842                         type=<a class="code" href="Exotics_8h.html#a12a4">RevLookbackCall</a> ;
00843                         <span class="keywordflow">break</span>;
00844                 <span class="keywordflow">case</span> 4:
00845                         type=<a class="code" href="Exotics_8h.html#a12a5">RevLookbackPut</a>;
00846                         <span class="keywordflow">break</span>;
00847                 <span class="keywordflow">case</span> 5:
00848                         type=<a class="code" href="Exotics_8h.html#a12a6">FlooredCliquet</a>;
00849                         <span class="keywordflow">break</span>;
00850                 <span class="keywordflow">case</span> 6:
00851                         type=<a class="code" href="Exotics_8h.html#a12a7">CappedCliquet</a>;
00852                         <span class="keywordflow">break</span>;
00853                 <span class="keywordflow">case</span> 7:
00854                         type=<a class="code" href="Exotics_8h.html#a12a8">CollaredCliquet</a>;
00855                         <span class="keywordflow">break</span>;
00856                 <span class="keywordflow">case</span> 8:
00857                         type=<a class="code" href="Exotics_8h.html#a12a9">BarrierCall</a>;
00858                         <span class="keywordflow">break</span>;
00859                 <span class="keywordflow">case</span> 9:
00860                         type=<a class="code" href="Exotics_8h.html#a12a10">BarrierPut</a> ;
00861                         <span class="keywordflow">break</span>;
00862         }
00863         <span class="keywordflow">return</span> type;
00864 }
00865 
<a name="l00866"></a><a class="code" href="productsCreation_8h.html#a15">00866</a> <a class="code" href="classVanillaSwap.html">VanillaSwap</a>* <a class="code" href="productsCreation_8h.html#a15">inputVanillaSwap</a>(<a class="code" href="structmarketData.html">marketData</a> data) {
00867         <a class="code" href="classVanillaSwap.html">VanillaSwap</a>* res;
00868         <a class="code" href="classDate.html">Date</a> startDate=<a class="code" href="classDate.html">Date</a>();
00869         Date endDate=Date();
00870         <a class="code" href="types_8h.html#a10">Real</a> frequency,notional,amortizing,maturity,fixedRate;
00871         <a class="code" href="types_8h.html#a7">Natural</a> payOrReceive,inputTodayDate,yield;
00872         <span class="keywordtype">bool</span> payFixed,useTodayStart;
00873 
00874         cout&lt;&lt;<span class="stringliteral">"******************************"</span>&lt;&lt;endl;
00875         cout&lt;&lt;<span class="stringliteral">"*** Input one vanilla swap ***"</span>&lt;&lt;endl;
00876         cout&lt;&lt;<span class="stringliteral">"******************************\n"</span>&lt;&lt;endl;
00877 
00878         cout&lt;&lt;<span class="stringliteral">"What is the notional of your contract?"</span>&lt;&lt;endl;
00879         cin&gt;&gt;notional;
00880         cout&lt;&lt;<span class="stringliteral">"What is the amortizing size of your contract (0 if not)?"</span>&lt;&lt;endl;
00881         cin&gt;&gt;amortizing;
00882         cout&lt;&lt;<span class="stringliteral">"What is the maturity of the contract in years (you can enter a floating number)?"</span>&lt;&lt;endl;
00883         cin&gt;&gt;maturity;
00884         cout&lt;&lt;<span class="stringliteral">"What is the frequency of the contract (floating number, enter 2 for semi annual for example)?"</span>&lt;&lt;endl;
00885         cin&gt;&gt;frequency;
00886         cout&lt;&lt;<span class="stringliteral">"What is the fixed rate of your contract?"</span>&lt;&lt;endl;
00887         cin&gt;&gt;fixedRate;
00888         cout&lt;&lt;<span class="stringliteral">"Enter 1 if you receive the fixed rate or anything else if you pay it."</span>&lt;&lt;endl;
00889         cin&gt;&gt;payOrReceive;
00890         payFixed=(payOrReceive!=1);
00891         cout&lt;&lt;<span class="stringliteral">"Enter 1 if you want to use today's date as start date or anything else if you want to enter it."</span>&lt;&lt;endl;
00892         cin&gt;&gt;inputTodayDate;
00893         useTodayStart=(inputTodayDate==1);
00894         <span class="keywordflow">if</span> (useTodayStart)
00895                 startDate.<a class="code" href="classDate.html#a13">setDateToToday</a>();
00896         <span class="keywordflow">else</span> {
00897                 <a class="code" href="types_8h.html#a7">Natural</a> daystart,monthstart,yearstart;
00898                 cout&lt;&lt;<span class="stringliteral">"Enter start month as a number between 1 and 12 :"</span>&lt;&lt;endl;
00899                 cin&gt;&gt;monthstart;
00900                 cout&lt;&lt;<span class="stringliteral">"Enter start day as a number between 1 and 31 :"</span>&lt;&lt;endl;
00901                 cin&gt;&gt;daystart;
00902                 cout&lt;&lt;<span class="stringliteral">"Enter start year as a number between 1900 and 2100 :"</span>&lt;&lt;endl;
00903                 cin&gt;&gt;yearstart;
00904                 startDate=Date(daystart,monthstart,yearstart);
00905         }
00906 
00907         endDate=startDate.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)(365.25*maturity));
00908 
00909         <a class="code" href="classyieldCurve.html">yieldCurve</a>* yc=<span class="keyword">new</span> <a class="code" href="classyieldCurve.html">yieldCurve</a>();
00910         <span class="keywordtype">bool</span> testyield=<span class="keyword">true</span>;
00911         <span class="keywordflow">while</span> (testyield){
00912                 cout &lt;&lt; <span class="stringliteral">"Would you like to use market data for the yield curve? "</span>&lt;&lt;endl;
00913                 cout &lt;&lt; <span class="stringliteral">" 1- yes"</span>&lt;&lt;endl;
00914                 cout &lt;&lt; <span class="stringliteral">" 2- no"</span>&lt;&lt;endl;
00915                 cin &gt;&gt; yield;
00916                 <span class="keywordflow">if</span> (yield==1) {
00917                         testyield=<span class="keyword">false</span>;
00918                         yc=&amp;(data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>);
00919                 }
00920                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (yield==2){
00921                         <a class="code" href="types_8h.html#a10">Real</a> rate;
00922                         cout &lt;&lt; <span class="stringliteral">"What is the flat rate you want to use (enter 0.05 for 5 percent)? "</span>&lt;&lt;endl;
00923                         cin &gt;&gt; rate;
00924                         yc = <span class="keyword">new</span> yieldCurve(rate);
00925                         testyield=<span class="keyword">false</span>;
00926                 }
00927         }
00928 
00929 
00930         <span class="comment">//Create cashflows</span>
00931         <a class="code" href="classSwapLeg.html">SwapLeg</a> swapLegReceived=<a class="code" href="classSwapLeg.html">SwapLeg</a>(startDate,frequency,endDate,notional,amortizing,<a class="code" href="date_8h.html#a47a36">Following</a>);
00932         SwapLeg swapLegPaid=SwapLeg(startDate,frequency,endDate,notional,amortizing,<a class="code" href="date_8h.html#a47a36">Following</a>);
00933         <a class="code" href="classCashFlow.html">CashFlow</a> cashFlowFloat=<a class="code" href="classCashFlow.html">CashFlow</a>(swapLegReceived,data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>);
00934         CashFlow cashFlowFixed=CashFlow(swapLegReceived,fixedRate);
00935 
00936         <span class="keywordtype">char</span>* name1=<span class="keyword">new</span> <span class="keywordtype">char</span>[MAX_LETTERS];
00937         <span class="keywordtype">char</span>* name2=<span class="keyword">new</span> <span class="keywordtype">char</span>[MAX_LETTERS];
00938         cout&lt;&lt;<span class="stringliteral">"Enter name of counterpart 1 :"</span>&lt;&lt;endl;
00939         cin&gt;&gt;name1;
00940         cout&lt;&lt;<span class="stringliteral">"Enter name of counterpart 2 :"</span>&lt;&lt;endl;
00941         cin&gt;&gt;name2;
00942         <span class="keywordflow">if</span> (payFixed)
00943                 res=<span class="keyword">new</span> <a class="code" href="classVanillaSwap.html">VanillaSwap</a>(cashFlowFloat,cashFlowFixed,name1,name2,yc);
00944         <span class="keywordflow">else</span>
00945                 res=<span class="keyword">new</span> VanillaSwap(cashFlowFixed,cashFlowFloat,name1,name2,yc);
00946 
00947         cout&lt;&lt;<span class="stringliteral">"\nThe value of the first leg is : "</span>&lt;&lt;res-&gt;<a class="code" href="classVanillaSwap.html#a2">getFairValue1</a>()&lt;&lt;endl;
00948         cout&lt;&lt;<span class="stringliteral">"\nThe value of the second leg is : "</span>&lt;&lt;res-&gt;<a class="code" href="classVanillaSwap.html#a3">getFairValue2</a>()&lt;&lt;endl;
00949         cout&lt;&lt;<span class="stringliteral">"\nThe price of your swap is then : "</span>&lt;&lt;res-&gt;<a class="code" href="classVanillaSwap.html#a4">returnPrice</a>()&lt;&lt;endl;
00950         cout&lt;&lt;<span class="stringliteral">"\nThe sensibility of your swap to interest rate is : "</span>&lt;&lt;res-&gt;<a class="code" href="classVanillaSwap.html#a5">getRho</a>()&lt;&lt;endl;
00951         cout&lt;&lt;<span class="stringliteral">"\nThe sensibility of your swap to time is : "</span>&lt;&lt;res-&gt;<a class="code" href="classVanillaSwap.html#a6">getTheta</a>()&lt;&lt;endl;
00952         cout&lt;&lt;<span class="stringliteral">"\n"</span>&lt;&lt;endl;
00953         <span class="keywordflow">return</span> res;
00954 }
00955 
00956 
<a name="l00957"></a><a class="code" href="productsCreation_8cpp.html#a16">00957</a> <a class="code" href="rainbowoption_8h.html#a23">rainbowType</a> <a class="code" href="productsCreation_8cpp.html#a16">chooseRainbowType</a>(){
00958         <a class="code" href="rainbowoption_8h.html#a23">rainbowType</a> type;
00959         <a class="code" href="types_8h.html#a7">Natural</a> choice;
00960         <span class="keywordtype">bool</span> testInput=<span class="keyword">true</span>;
00961         <span class="keywordflow">while</span>(testInput){
00962                 cout&lt;&lt;<span class="stringliteral">"The available Rainbow OptionTypes are as follows, which one do you want?"</span>&lt;&lt;endl;
00963                 cout&lt;&lt;<span class="stringliteral">"1 - SpreadOptionMax"</span>&lt;&lt;endl;
00964                 cout&lt;&lt;<span class="stringliteral">"2 - AssetsBasketMax"</span>&lt;&lt;endl;
00965                 cout&lt;&lt;<span class="stringliteral">"3 - BestOf2AssetsCash"</span>&lt;&lt;endl;
00966                 cout&lt;&lt;<span class="stringliteral">"4 - WorstOf2AssetsCash"</span>&lt;&lt;endl;
00967                 cout&lt;&lt;<span class="stringliteral">"5 - BetterOf2Assets"</span>&lt;&lt;endl;
00968                 cout&lt;&lt;<span class="stringliteral">"6 - WorseOf2Assets"</span>&lt;&lt;endl;
00969                 cout&lt;&lt;<span class="stringliteral">"7 - Max2AssetsCall"</span>&lt;&lt;endl;
00970                 cout&lt;&lt;<span class="stringliteral">"8 - Min2AssetsCall"</span>&lt;&lt;endl;
00971                 cout&lt;&lt;<span class="stringliteral">"9 - Max2AssetsPut"</span>&lt;&lt;endl;
00972                 cout&lt;&lt;<span class="stringliteral">"10 - Min2AssetsPut"</span>&lt;&lt;endl;
00973                 cin&gt;&gt;choice;
00974                 testInput=(choice&lt;=0)||(choice&gt;10);             
00975         }
00976         <span class="keywordflow">switch</span> (choice){
00977                 <span class="keywordflow">case</span> 1:
00978                         type=<a class="code" href="rainbowoption_8h.html#a23a12">SpreadOptionMax</a>;
00979                         <span class="keywordflow">break</span>;
00980                 <span class="keywordflow">case</span> 2:
00981                         type=<a class="code" href="rainbowoption_8h.html#a23a13">AssetsBasketMax</a>;
00982                         <span class="keywordflow">break</span>;
00983                 <span class="keywordflow">case</span> 3:
00984                         type=<a class="code" href="rainbowoption_8h.html#a23a14">BestOf2AssetsCash</a>;
00985                         <span class="keywordflow">break</span>;
00986                 <span class="keywordflow">case</span> 4:
00987                         type=<a class="code" href="rainbowoption_8h.html#a23a15">WorstOf2AssetsCash</a>;
00988                         <span class="keywordflow">break</span>;
00989                 <span class="keywordflow">case</span> 5:
00990                         type=<a class="code" href="rainbowoption_8h.html#a23a16">BetterOf2Assets</a>;
00991                         <span class="keywordflow">break</span>;
00992                 <span class="keywordflow">case</span> 6:
00993                         type=<a class="code" href="rainbowoption_8h.html#a23a17">WorseOf2Assets</a>;
00994                         <span class="keywordflow">break</span>;
00995                 <span class="keywordflow">case</span> 7:
00996                         type=<a class="code" href="rainbowoption_8h.html#a23a18">Max2AssetsCall</a>;
00997                         <span class="keywordflow">break</span>;
00998                 <span class="keywordflow">case</span> 8:
00999                         type=<a class="code" href="rainbowoption_8h.html#a23a19">Min2AssetsCall</a>;
01000                         <span class="keywordflow">break</span>;
01001                 <span class="keywordflow">case</span> 9:
01002                         type=<a class="code" href="rainbowoption_8h.html#a23a20">Max2AssetsPut</a>;
01003                         <span class="keywordflow">break</span>;
01004                 <span class="keywordflow">case</span> 10:
01005                         type=<a class="code" href="rainbowoption_8h.html#a23a21">Min2AssetsPut</a>;
01006                         <span class="keywordflow">break</span>;
01007                 <span class="keywordflow">default</span>:
01008                         type=<a class="code" href="rainbowoption_8h.html#a23a14">BestOf2AssetsCash</a>;
01009                         <span class="keywordflow">break</span>;
01010         }
01011         <span class="keywordflow">return</span> type;
01012 }
01013 
<a name="l01014"></a><a class="code" href="productsCreation_8cpp.html#a17">01014</a> <a class="code" href="rainbowoption_8h.html#a22">priceType</a> <a class="code" href="productsCreation_8cpp.html#a17">choosePricingType</a>(){
01015         <a class="code" href="rainbowoption_8h.html#a22">priceType</a> type;
01016         <a class="code" href="types_8h.html#a7">Natural</a> choice;
01017         <span class="keywordtype">bool</span> testInput=<span class="keyword">true</span>;
01018         <span class="keywordflow">while</span>(testInput){
01019                 cout&lt;&lt;<span class="stringliteral">"Which pricing method do you want? Note that obviously MC is slow, but for Spread/Asset/WOCash it is the only way"</span>&lt;&lt;endl;
01020                 cout&lt;&lt;<span class="stringliteral">"1 - Monte Carlo"</span>&lt;&lt;endl;
01021                 cout&lt;&lt;<span class="stringliteral">"2 - Closed Form"</span>&lt;&lt;endl;  
01022                 cin&gt;&gt;choice;
01023                 testInput=testInput=(choice!=1)&amp;&amp;(choice!=2);   
01024         }
01025         <span class="keywordflow">switch</span> (choice){
01026                 <span class="keywordflow">case</span> 1:
01027                         type=<a class="code" href="rainbowoption_8h.html#a22a10">MonteCarlo</a>;
01028                         <span class="keywordflow">break</span>;
01029                 <span class="keywordflow">case</span> 2:
01030                         type=<a class="code" href="rainbowoption_8h.html#a22a11">ClosedForm</a>;
01031                         <span class="keywordflow">break</span>;
01032                 <span class="keywordflow">default</span>:
01033                         type=<a class="code" href="rainbowoption_8h.html#a22a11">ClosedForm</a>;
01034                         <span class="keywordflow">break</span>;                  
01035         }
01036         <span class="keywordflow">return</span> type;
01037 }
01038 
<a name="l01039"></a><a class="code" href="productsCreation_8h.html#a18">01039</a> <a class="code" href="classRainbowOption.html">RainbowOption</a>* <a class="code" href="productsCreation_8h.html#a18">inputRainbowOption</a>(<a class="code" href="structmarketData.html">marketData</a> data){
01040         cout&lt;&lt;<span class="stringliteral">"\n*********************************"</span>&lt;&lt;endl;
01041         cout&lt;&lt;<span class="stringliteral">"*** Input one Rainbow option ***"</span>&lt;&lt;endl;
01042         cout&lt;&lt;<span class="stringliteral">"********************************\n"</span>&lt;&lt;endl;
01043         
01044         cout&lt;&lt;<span class="stringliteral">"What type of option would you like to add? \n[Only 2 assets type available in the menu -- see code]"</span>&lt;&lt;endl;
01045         <a class="code" href="rainbowoption_8h.html#a23">rainbowType</a> type=<a class="code" href="productsCreation_8cpp.html#a16">chooseRainbowType</a>();
01046         
01047         <a class="code" href="classDate.html">Date</a> d;
01048         d.<a class="code" href="classDate.html#a13">setDateToToday</a> ();
01049         <a class="code" href="types_8h.html#a10">Real</a> exp=0.0;
01050         <span class="keywordflow">while</span>(exp&lt;=0.0){
01051                 cout&lt;&lt;<span class="stringliteral">"What is the maturity of your option in years?"</span>&lt;&lt;endl;
01052                 cin&gt;&gt;exp;
01053         }
01054         exp=max(exp,0.01);
01055         
01056         <span class="keywordtype">bool</span> testData=<span class="keyword">true</span>;
01057         <a class="code" href="types_8h.html#a7">Natural</a> choice;
01058         cout&lt;&lt;<span class="stringliteral">"Do you want to use the market data (both vol curves will be indexed on SP at 2994...? Type 1 for Yes, else something else."</span>&lt;&lt;endl;
01059         cin&gt;&gt;choice;
01060         
01061         <a class="code" href="classyieldCurve.html">yieldCurve</a> yc=<a class="code" href="classyieldCurve.html">yieldCurve</a>(data.<a class="code" href="structmarketData.html#o0">yieldcurve</a>);
01062         <a class="code" href="classvolsurface.html">volsurface</a> vs1=<a class="code" href="classvolsurface.html">volsurface</a>(data.<a class="code" href="structmarketData.html#o2">vols</a>);
01063         volsurface vs2=volsurface(data.<a class="code" href="structmarketData.html#o2">vols</a>);
01064         <span class="keywordflow">if</span>(choice!=1){
01065                 <a class="code" href="types_8h.html#a10">Real</a> rate,vol1,vol2;
01066                 cout&lt;&lt;<span class="stringliteral">"What flat rate do you want to use? In absolute value"</span>&lt;&lt;endl;
01067                 cin&gt;&gt;rate;
01068                 yc=yieldCurve(max(rate,0));
01069                 cout&lt;&lt;<span class="stringliteral">"What 1st flat vol do you want to use? In absolute value"</span>&lt;&lt;endl;
01070                 cin&gt;&gt;vol1;
01071                 vs1=volsurface(max(vol1,0));    
01072                 cout&lt;&lt;<span class="stringliteral">"What 2nd flat vol do you want to use? In absolute value"</span>&lt;&lt;endl;
01073                 cin&gt;&gt;vol2;
01074                 vs1=volsurface(max(vol2,0));
01075         }
01076         valarray&lt;volsurface&gt; vols(2);
01077         vols[0]=vs1;
01078         vols[1]=vs2;
01079 <span class="comment">//      RainbowOption(rainbowType type,Date start,Real exp,Real Strike,yieldCurve yc,valarray&lt;volsurface&gt; vols,Real Spot1,Real Spot2,Real Mult=RO_DEFAULT_MULTIPLIER,Real Correl12=0,Real weight1=0.5,Real weight2=0.5,bool outputMsgs=false);</span>
01080         <a class="code" href="types_8h.html#a10">Real</a> Strike,spot1,spot2,weight1,weight2;
01081         <a class="code" href="types_8h.html#a10">Real</a> rho=-2,mult=1;
01082         cout&lt;&lt;<span class="stringliteral">"What is the strike of your option?"</span>&lt;&lt;endl;
01083         cin&gt;&gt;Strike;
01084         cout&lt;&lt;<span class="stringliteral">"What is the spot of your 1st underlying?"</span>&lt;&lt;endl;
01085         cin&gt;&gt;spot1;
01086         cout&lt;&lt;<span class="stringliteral">"What is the spot of your 2nd underlying?"</span>&lt;&lt;endl;
01087         cin&gt;&gt;spot2;
01088         <span class="keywordflow">while</span> (rho&gt;1 ||rho&lt;-1){
01089                 cout&lt;&lt;<span class="stringliteral">"What is the correlation between the assets?"</span>&lt;&lt;endl;
01090                 cin&gt;&gt;rho;
01091         }
01092         cout&lt;&lt;<span class="stringliteral">"What is the weight you want to assign to your 1st underlying?"</span>&lt;&lt;endl;
01093         cin&gt;&gt;weight1;
01094         cout&lt;&lt;<span class="stringliteral">"What is the weight you want to assign to your 2nd underlying?"</span>&lt;&lt;endl;
01095         cin&gt;&gt;weight2;   
01096 
01097         <a class="code" href="classRainbowOption.html">RainbowOption</a> * rb=<span class="keyword">new</span> <a class="code" href="classRainbowOption.html">RainbowOption</a>(type,d,exp,Strike,yc,vols,spot1,spot2,mult,rho,weight1,weight2,<span class="keyword">false</span>);
01098         
01099         <a class="code" href="rainbowoption_8h.html#a22">priceType</a> pType=<a class="code" href="productsCreation_8cpp.html#a17">choosePricingType</a>();
01100 
01101 
01102         cout&lt;&lt;<span class="stringliteral">"Its price is: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a4">getPrice</a>(pType)&lt;&lt;endl;
01103 
01104         cout&lt;&lt;<span class="stringliteral">"Would you like to see its greeks? Type 1 if yes, else something else.\n[Note: If you chose Monte Carlo, it will take a few seconds]"</span>&lt;&lt;endl;
01105         cin&gt;&gt;choice;
01106         <span class="keywordflow">if</span>(choice==1){
01107                 cout&lt;&lt;<span class="stringliteral">"Delta 1: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a5">getPartialDelta</a>(1,pType)&lt;&lt;endl;
01108                 cout&lt;&lt;<span class="stringliteral">"Delta 2: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a5">getPartialDelta</a>(2,pType)&lt;&lt;endl;
01109                 cout&lt;&lt;<span class="stringliteral">"Gamma 1: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a6">getPartialGamma</a>(1,pType)&lt;&lt;endl;
01110                 cout&lt;&lt;<span class="stringliteral">"Gamma 2: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a6">getPartialGamma</a>(2,pType)&lt;&lt;endl;
01111                 cout&lt;&lt;<span class="stringliteral">"Vega 1: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a7">getPartialVega</a>(1,pType)&lt;&lt;endl;
01112                 cout&lt;&lt;<span class="stringliteral">"Vega 2: "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a7">getPartialVega</a>(2,pType)&lt;&lt;endl;
01113                 cout&lt;&lt;<span class="stringliteral">"Correl risk : "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a11">getCorrelRisk</a>(pType)&lt;&lt;endl;
01114                 cout&lt;&lt;<span class="stringliteral">"Rho : "</span>&lt;&lt;rb-&gt;<a class="code" href="classRainbowOption.html#a12">getRho</a>(pType)&lt;&lt;endl;
01115         }
01116         cout&lt;&lt;<span class="stringliteral">"\n"</span>&lt;&lt;endl;
01117 
01118         <span class="keywordflow">return</span> rb;
01119 }
</pre></div><hr size="1"><address style="align: right;"><small>
<b>Note: Generated nightly - reload for latest version</b><br>
Generated on Thu Dec 22 13:21:44 2005 for <a href="http://terreneuve.sourceforge.net">terreneuve</a> by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.3.6</small></address>
</body>
</html>
