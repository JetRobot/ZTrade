<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StringTokenizer.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>StringTokenizer.cpp</h1><a href="StringTokenizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#include "<a class="code" href="StringTokenizer_8h.html">StringTokenizer.h</a>"</span>
00002 
<a name="l00003"></a><a class="code" href="classStringTokenizer.html#a0">00003</a> <a class="code" href="classStringTokenizer.html#a0">StringTokenizer::StringTokenizer</a>(<span class="keyword">const</span> std::string&amp; _str, <span class="keyword">const</span> std::string&amp; _delim)
00004 {
00005 
00006    <span class="keywordflow">if</span> ((_str.length() == 0) || (_delim.length() == 0)) <span class="keywordflow">return</span>;
00007 
00008    <a class="code" href="classStringTokenizer.html#r0">token_str</a> = _str;
00009    <a class="code" href="classStringTokenizer.html#r1">delim</a>     = _delim;
00010 
00011   <span class="comment">/*</span>
00012 <span class="comment">     Remove sequential delimiter</span>
00013 <span class="comment">  */</span>
00014    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curr_pos = 0;
00015 
00016    <span class="keywordflow">while</span>(<span class="keyword">true</span>)
00017    {
00018       <span class="keywordflow">if</span> ((curr_pos = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.find(<a class="code" href="classStringTokenizer.html#r1">delim</a>,curr_pos)) != std::string::npos)
00019       {
00020          curr_pos += <a class="code" href="classStringTokenizer.html#r1">delim</a>.length();
00021 
00022          <span class="keywordflow">while</span>(<a class="code" href="classStringTokenizer.html#r0">token_str</a>.find(<a class="code" href="classStringTokenizer.html#r1">delim</a>,curr_pos) == curr_pos)
00023          {
00024             <a class="code" href="classStringTokenizer.html#r0">token_str</a>.erase(curr_pos,<a class="code" href="classStringTokenizer.html#r1">delim</a>.length());
00025          }
00026       }
00027       <span class="keywordflow">else</span>
00028        <span class="keywordflow">break</span>;
00029    }
00030 
00031    <span class="comment">/*</span>
00032 <span class="comment">     Trim leading delimiter</span>
00033 <span class="comment">   */</span>
00034    <span class="keywordflow">if</span> (<a class="code" href="classStringTokenizer.html#r0">token_str</a>.find(<a class="code" href="classStringTokenizer.html#r1">delim</a>,0) == 0)
00035    {
00036       <a class="code" href="classStringTokenizer.html#r0">token_str</a>.erase(0,<a class="code" href="classStringTokenizer.html#r1">delim</a>.length());
00037    }
00038 
00039    <span class="comment">/*</span>
00040 <span class="comment">     Trim ending delimiter</span>
00041 <span class="comment">   */</span>
00042    curr_pos = 0;
00043    <span class="keywordflow">if</span> ((curr_pos = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.rfind(<a class="code" href="classStringTokenizer.html#r1">delim</a>)) != std::string::npos)
00044    {
00045       <span class="keywordflow">if</span> (curr_pos != (<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() - <a class="code" href="classStringTokenizer.html#r1">delim</a>.length())) <span class="keywordflow">return</span>;
00046       <a class="code" href="classStringTokenizer.html#r0">token_str</a>.erase(<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() - <a class="code" href="classStringTokenizer.html#r1">delim</a>.length(),<a class="code" href="classStringTokenizer.html#r1">delim</a>.length());
00047    }
00048 
00049 }
00050 
00051 
<a name="l00052"></a><a class="code" href="classStringTokenizer.html#a2">00052</a> <span class="keywordtype">int</span> <a class="code" href="classStringTokenizer.html#a2">StringTokenizer::countTokens</a>()
00053 {
00054 
00055    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prev_pos = 0;
00056    <span class="keywordtype">int</span> num_tokens        = 0;
00057 
00058    <span class="keywordflow">if</span> (<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() &gt; 0)
00059    {
00060       num_tokens = 0;
00061 
00062       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curr_pos = 0;
00063       <span class="keywordflow">while</span>(<span class="keyword">true</span>)
00064       {
00065          <span class="keywordflow">if</span> ((curr_pos = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.find(<a class="code" href="classStringTokenizer.html#r1">delim</a>,curr_pos)) != std::string::npos)
00066          {
00067             num_tokens++;
00068             prev_pos  = curr_pos;
00069             curr_pos += <a class="code" href="classStringTokenizer.html#r1">delim</a>.length();
00070          }
00071          <span class="keywordflow">else</span>
00072           <span class="keywordflow">break</span>;
00073       }
00074       <span class="keywordflow">return</span> ++num_tokens;
00075    }
00076    <span class="keywordflow">else</span>
00077    {
00078       <span class="keywordflow">return</span> 0;
00079    }
00080 
00081 }
00082 
00083 
<a name="l00084"></a><a class="code" href="classStringTokenizer.html#a3">00084</a> <span class="keywordtype">bool</span> <a class="code" href="classStringTokenizer.html#a3">StringTokenizer::hasMoreTokens</a>()
00085 {
00086    <span class="keywordflow">return</span> (<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() &gt; 0);
00087 }
00088 
00089 
<a name="l00090"></a><a class="code" href="classStringTokenizer.html#a4">00090</a> std::string <a class="code" href="classStringTokenizer.html#a4">StringTokenizer::nextToken</a>()
00091 {
00092 
00093    <span class="keywordflow">if</span> (<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() == 0)
00094      <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
00095 
00096    std::string  tmp_str = <span class="stringliteral">""</span>;
00097    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos     = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.find(<a class="code" href="classStringTokenizer.html#r1">delim</a>,0);
00098 
00099    <span class="keywordflow">if</span> (pos != std::string::npos)
00100    {
00101       tmp_str   = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.substr(0,pos);
00102       <a class="code" href="classStringTokenizer.html#r0">token_str</a> = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.substr(pos+<a class="code" href="classStringTokenizer.html#r1">delim</a>.length(),<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length()-pos);
00103    }
00104    <span class="keywordflow">else</span>
00105    {
00106       tmp_str   = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.substr(0,<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length());
00107       <a class="code" href="classStringTokenizer.html#r0">token_str</a> = <span class="stringliteral">""</span>;
00108    }
00109 
00110    <span class="keywordflow">return</span> tmp_str;
00111 }
00112 
00113 
<a name="l00114"></a><a class="code" href="classStringTokenizer.html#a5">00114</a> <span class="keywordtype">int</span> <a class="code" href="classStringTokenizer.html#a5">StringTokenizer::nextIntToken</a>()
00115 {
00116    <span class="keywordflow">return</span> atoi(<a class="code" href="classStringTokenizer.html#a4">nextToken</a>().c_str());
00117 }
00118 
00119 
<a name="l00120"></a><a class="code" href="classStringTokenizer.html#a6">00120</a> <span class="keywordtype">double</span> <a class="code" href="classStringTokenizer.html#a6">StringTokenizer::nextFloatToken</a>()
00121 {
00122    <span class="keywordflow">return</span> atof(<a class="code" href="classStringTokenizer.html#a4">nextToken</a>().c_str());
00123 }
00124 
00125 
<a name="l00126"></a><a class="code" href="classStringTokenizer.html#a7">00126</a> std::string <a class="code" href="classStringTokenizer.html#a4">StringTokenizer::nextToken</a>(<span class="keyword">const</span> std::string&amp; delimiter)
00127 {
00128    <span class="keywordflow">if</span> (<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() == 0)
00129      <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
00130 
00131    std::string  tmp_str = <span class="stringliteral">""</span>;
00132    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos     = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.find(delimiter,0);
00133 
00134    <span class="keywordflow">if</span> (pos != std::string::npos)
00135    {
00136       tmp_str   = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.substr(0,pos);
00137       <a class="code" href="classStringTokenizer.html#r0">token_str</a> = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.substr(pos + delimiter.length(),<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length() - pos);
00138    }
00139    <span class="keywordflow">else</span>
00140    {
00141       tmp_str   = <a class="code" href="classStringTokenizer.html#r0">token_str</a>.substr(0,<a class="code" href="classStringTokenizer.html#r0">token_str</a>.length());
00142       <a class="code" href="classStringTokenizer.html#r0">token_str</a> = <span class="stringliteral">""</span>;
00143    }
00144 
00145    <span class="keywordflow">return</span> tmp_str;
00146 }
00147 
00148 
<a name="l00149"></a><a class="code" href="classStringTokenizer.html#a8">00149</a> std::string <a class="code" href="classStringTokenizer.html#a8">StringTokenizer::remainingString</a>()
00150 {
00151    <span class="keywordflow">return</span> <a class="code" href="classStringTokenizer.html#r0">token_str</a>;
00152 }
00153 
00154 
<a name="l00155"></a><a class="code" href="classStringTokenizer.html#a9">00155</a> std::string <a class="code" href="classStringTokenizer.html#a9">StringTokenizer::filterNextToken</a>(<span class="keyword">const</span> std::string&amp; filterStr)
00156 {
00157    std::string  tmp_str    = <a class="code" href="classStringTokenizer.html#a4">nextToken</a>();
00158    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> currentPos = 0;
00159 
00160    <span class="keywordflow">while</span>((currentPos = tmp_str.find(filterStr,currentPos)) != std::string::npos)
00161    {
00162       tmp_str.erase(currentPos,filterStr.length());
00163    }
00164 
00165    <span class="keywordflow">return</span> tmp_str;
00166 }
</pre></div><hr size="1"><address style="align: right;"><small>
<b>Note: Generated nightly - reload for latest version</b><br>
Generated on Thu Dec 22 13:21:44 2005 for <a href="http://terreneuve.sourceforge.net">terreneuve</a> by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.3.6</small></address>
</body>
</html>
