<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SwapLeg.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>SwapLeg.cpp</h1><a href="SwapLeg_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#include ".\swapleg.h"</span>
00002 
<a name="l00003"></a><a class="code" href="classSwapLeg.html#a0">00003</a> <a class="code" href="classSwapLeg.html#a0">SwapLeg::SwapLeg</a>(<a class="code" href="classDate.html">Date</a> startDate, <a class="code" href="types_8h.html#a10">Real</a> Frequency, <a class="code" href="classDate.html">Date</a> endDate, <a class="code" href="types_8h.html#a10">Real</a> Notional, <a class="code" href="types_8h.html#a10">Real</a> AmortizingConstant, BusinessDayConvention convention)
00004 {
00005         <a class="code" href="types_8h.html#a7">Natural</a> i=1;
00006         <a class="code" href="types_8h.html#a8">LongInteger</a> serialEnd=endDate.<a class="code" href="classDate.html#a10">serialNumber</a>();
00007         <a class="code" href="types_8h.html#a8">LongInteger</a> serialCurrent=startDate.<a class="code" href="classDate.html#a10">serialNumber</a>();
00008         <a class="code" href="types_8h.html#a7">Natural</a> test;
00009         test=<a class="code" href="types_8h.html#a7">Natural</a>((2+serialEnd-serialCurrent)*<a class="code" href="date_8h.html#a46">Frequency</a>/365.25)+1;
00010         <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>.resize(<a class="code" href="types_8h.html#a7">Natural</a>((2+serialEnd-serialCurrent)*<a class="code" href="date_8h.html#a46">Frequency</a>/365.25)+2);
00011         <a class="code" href="classSwapLeg.html#r1">_flowSchedule</a>.resize(<a class="code" href="types_8h.html#a7">Natural</a>((2+serialEnd-serialCurrent)*<a class="code" href="date_8h.html#a46">Frequency</a>/365.25)+2);
00012         <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>[0]=startDate;
00013         <a class="code" href="classSwapLeg.html#r1">_flowSchedule</a>[0]=0.;
00014 
00015         <span class="keywordflow">while</span> (serialCurrent&lt;=serialEnd) {
00016                 <a class="code" href="classDate.html">Date</a> Current;
00017                 startDate=startDate.plusDays(<a class="code" href="types_8h.html#a6">Integer</a>(365.25/<a class="code" href="date_8h.html#a46">Frequency</a>));
00018                 Current=startDate;
00019                 Current.<a class="code" href="classDate.html#a34">applyConvention</a>(convention);
00020                 serialCurrent=Current.<a class="code" href="classDate.html#a10">serialNumber</a>();
00021                 <a class="code" href="classSwapLeg.html#r1">_flowSchedule</a>[i]=Notional-(i-1)*AmortizingConstant;
00022                 <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>[i]=Current;
00023                 i++;
00024         }
00025 }
00026 
<a name="l00027"></a><a class="code" href="classSwapLeg.html#a1">00027</a> <a class="code" href="classSwapLeg.html#a0">SwapLeg::SwapLeg</a>(valarray&lt;Date&gt; dates, valarray&lt;Real&gt; Notionals)
00028 {
00029         <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>.resize(dates.size());
00030         <a class="code" href="classSwapLeg.html#r1">_flowSchedule</a>.resize(Notionals.size());
00031         <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>=dates;
00032         <a class="code" href="classSwapLeg.html#r1">_flowSchedule</a>=Notionals;
00033 }
00034 
<a name="l00035"></a><a class="code" href="classSwapLeg.html#a2">00035</a> <a class="code" href="types_8h.html#a8">LongInteger</a> <a class="code" href="classSwapLeg.html#a2">SwapLeg::returnSize</a>()
00036 {
00037         <span class="keywordflow">return</span> <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>.size();
00038 }
00039 
<a name="l00040"></a><a class="code" href="classSwapLeg.html#a3">00040</a> valarray&lt;Date&gt; <a class="code" href="classSwapLeg.html#a3">SwapLeg::returnDates</a>()
00041 {
00042         <span class="keywordflow">return</span> <a class="code" href="classSwapLeg.html#r0">_dateSchedule</a>;
00043 }
00044 
<a name="l00045"></a><a class="code" href="classSwapLeg.html#a4">00045</a> valarray&lt;Real&gt; <a class="code" href="classSwapLeg.html#a4">SwapLeg::returnAmounts</a>()
00046 {
00047         <span class="keywordflow">return</span> <a class="code" href="classSwapLeg.html#r1">_flowSchedule</a>;
00048 }
00049 
<a name="l00050"></a><a class="code" href="classSwapLeg.html#a5">00050</a> <a class="code" href="classSwapLeg.html#a5">SwapLeg::~SwapLeg</a>(<span class="keywordtype">void</span>)
00051 {
00052 }
</pre></div><hr size="1"><address style="align: right;"><small>
<b>Note: Generated nightly - reload for latest version</b><br>
Generated on Thu Dec 22 13:21:44 2005 for <a href="http://terreneuve.sourceforge.net">terreneuve</a> by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.3.6</small></address>
</body>
</html>
