<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OptionStrategy.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>OptionStrategy.cpp</h1><a href="OptionStrategy_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#include ".\optionstrategy.h"</span>
00002 
<a name="l00003"></a><a class="code" href="classOptionStrategy.html#a0">00003</a> <a class="code" href="classOptionStrategy.html#a0">OptionStrategy::OptionStrategy</a>(<span class="keywordtype">void</span>)
00004 {
00005         <a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>=0;
00006         <a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>.resize(maxNbOptions);
00007         <a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>.resize(maxNbOptions);
00008 }
00009 
<a name="l00010"></a><a class="code" href="classOptionStrategy.html#a1">00010</a> <a class="code" href="classOptionStrategy.html#a1">OptionStrategy::~OptionStrategy</a>(<span class="keywordtype">void</span>)
00011 {
00012 }
00013 
<a name="l00014"></a><a class="code" href="classOptionStrategy.html#a16">00014</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a16">OptionStrategy::returnPrice</a>()
00015 {
00016         <span class="keywordflow">return</span> _price;
00017 }
00018 
<a name="l00019"></a><a class="code" href="classOptionStrategy.html#a17">00019</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a17">OptionStrategy::recalcPrice</a>()
00020 {
00021         <a class="code" href="types_8h.html#a10">Real</a> result=0;
00022         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00023                 result+=<a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i]*<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i]-&gt;getPrice();
00024         }
00025         _price=result;
00026         <span class="keywordflow">return</span> result;
00027 }
00028 
<a name="l00029"></a><a class="code" href="classOptionStrategy.html#a2">00029</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a2">OptionStrategy::addOneOptionToStrategy</a>(<a class="code" href="types_8h.html#a10">Real</a> spot, <a class="code" href="types_8h.html#a10">Real</a> vol,<span class="keywordtype">bool</span> isVol, <a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K, <a class="code" href="types_8h.html#a10">Real</a> T, TypeOptionBS type, <a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00030         <a class="code" href="classBlackScholes.html">BlackScholes</a>* bs= <span class="keyword">new</span> <a class="code" href="classBlackScholes.html">BlackScholes</a>(spot,vol,isVol,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K,T,type);
00031         <a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>]=bs;
00032         <a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>]=Quantity;
00033         _price+=Quantity*bs-&gt;getPrice();
00034         <a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>++;
00035 }
00036 
<a name="l00037"></a><a class="code" href="classOptionStrategy.html#a3">00037</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a3">OptionStrategy::addOneBlackScholesObject</a>(<a class="code" href="classBlackScholes.html">BlackScholes</a>* bs, <a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00038         <a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>]=bs;
00039         <a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>]=Quantity;
00040         _price+=Quantity*bs-&gt;getPrice();
00041         <a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>++;
00042 }
00043 
<a name="l00044"></a><a class="code" href="classOptionStrategy.html#a4">00044</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a4">OptionStrategy::addLongCallSpread</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> volStrike1,<span class="keywordtype">bool</span> isVol1,<a class="code" href="types_8h.html#a10">Real</a> volStrike2,<span class="keywordtype">bool</span> isVol2,<a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K1, <a class="code" href="types_8h.html#a10">Real</a> K2, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00046         <span class="keywordflow">if</span> (K2&gt;=K1) {
00047                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00048                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,-Quantity);
00049         }
00050         <span class="keywordflow">else</span> {
00051                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,-Quantity);
00052                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00053         }
00054 }
00055 
<a name="l00056"></a><a class="code" href="classOptionStrategy.html#a5">00056</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a5">OptionStrategy::addLongStraddle</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> vol,<span class="keywordtype">bool</span> isVol, <a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00057         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,vol,isVol,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00058         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,vol,isVol,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,Quantity);
00059 }
00060 
<a name="l00061"></a><a class="code" href="classOptionStrategy.html#a6">00061</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a6">OptionStrategy::addLongStrangle</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> volStrike1,<span class="keywordtype">bool</span> isVol1,<a class="code" href="types_8h.html#a10">Real</a> volStrike2,<span class="keywordtype">bool</span> isVol2,<a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K1, <a class="code" href="types_8h.html#a10">Real</a> K2, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00062         <span class="keywordflow">if</span> (K2&gt;=K1) {
00063                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,Quantity);
00064                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00065         }
00066         <span class="keywordflow">else</span> {
00067                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,Quantity);
00068                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00069         }
00070 }
00071 
<a name="l00072"></a><a class="code" href="classOptionStrategy.html#a7">00072</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a7">OptionStrategy::addLongButterflySpread</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> volStrike1,<span class="keywordtype">bool</span> isVol1,<a class="code" href="types_8h.html#a10">Real</a> volStrike2,<span class="keywordtype">bool</span> isVol2,<a class="code" href="types_8h.html#a10">Real</a> volStrike3,<span class="keywordtype">bool</span> isVol3, <a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K1, <a class="code" href="types_8h.html#a10">Real</a> K2, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00073         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot, volStrike3, isVol3, <a class="code" href="ParkMiller_8h.html#a3">r</a>, (K1+K2)/2, T, <a class="code" href="BlackScholes_8h.html#a2a0">Call</a>, -2*Quantity);
00074         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot, volStrike1, isVol1, <a class="code" href="ParkMiller_8h.html#a3">r</a>, K1, T, <a class="code" href="BlackScholes_8h.html#a2a0">Call</a>, Quantity);
00075         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot, volStrike2, isVol2, <a class="code" href="ParkMiller_8h.html#a3">r</a>, K2, T, <a class="code" href="BlackScholes_8h.html#a2a0">Call</a>, Quantity);
00076 }
00077 
<a name="l00078"></a><a class="code" href="classOptionStrategy.html#a8">00078</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a7">OptionStrategy::addLongButterflySpread</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> volStrike1,<span class="keywordtype">bool</span> isVol1,<a class="code" href="types_8h.html#a10">Real</a> volStrike2,<span class="keywordtype">bool</span> isVol2,<a class="code" href="types_8h.html#a10">Real</a> volStrike3,<span class="keywordtype">bool</span> isVol3, <a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K1, <a class="code" href="types_8h.html#a10">Real</a> K2, <a class="code" href="types_8h.html#a10">Real</a> K3, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00079         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot, volStrike3, isVol3, <a class="code" href="ParkMiller_8h.html#a3">r</a>, K3, T, <a class="code" href="BlackScholes_8h.html#a2a0">Call</a>, -2*Quantity);
00080         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot, volStrike1, isVol1, <a class="code" href="ParkMiller_8h.html#a3">r</a>, K1, T, <a class="code" href="BlackScholes_8h.html#a2a0">Call</a>, Quantity);
00081         <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot, volStrike2, isVol2, <a class="code" href="ParkMiller_8h.html#a3">r</a>, K2, T, <a class="code" href="BlackScholes_8h.html#a2a0">Call</a>, Quantity);
00082 }
00083 
<a name="l00084"></a><a class="code" href="classOptionStrategy.html#a9">00084</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a9">OptionStrategy::addLongRatioCallSpread</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> volStrike1,<span class="keywordtype">bool</span> isVol1,<a class="code" href="types_8h.html#a10">Real</a> volStrike2,<span class="keywordtype">bool</span> isVol2, <a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K1, <a class="code" href="types_8h.html#a10">Real</a> K2, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00085         <span class="keywordflow">if</span> (K2&gt;=K1) {
00086                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00087                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,-2*Quantity);
00088         }
00089         <span class="keywordflow">else</span> {
00090                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,-2*Quantity);
00091                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>,Quantity);
00092         }
00093 }
00094 
<a name="l00095"></a><a class="code" href="classOptionStrategy.html#a10">00095</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a10">OptionStrategy::addLongPutSpread</a>(<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> volStrike1,<span class="keywordtype">bool</span> isVol1,<a class="code" href="types_8h.html#a10">Real</a> volStrike2,<span class="keywordtype">bool</span> isVol2,<a class="code" href="types_8h.html#a10">Real</a> r, <a class="code" href="types_8h.html#a10">Real</a> K1, <a class="code" href="types_8h.html#a10">Real</a> K2, <a class="code" href="types_8h.html#a10">Real</a> T,<a class="code" href="types_8h.html#a10">Real</a> Quantity) {
00096         <span class="keywordflow">if</span> (K2&gt;=K1) {
00097                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,-Quantity);
00098                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,Quantity);
00099         }
00100         <span class="keywordflow">else</span> {
00101                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike1,isVol1,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K1,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,Quantity);
00102                 <a class="code" href="classOptionStrategy.html#a2">addOneOptionToStrategy</a>(spot,volStrike2,isVol2,<a class="code" href="ParkMiller_8h.html#a3">r</a>,K2,T,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>,-Quantity);
00103         }
00104 }
00105 
<a name="l00106"></a><a class="code" href="classOptionStrategy.html#a11">00106</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a11">OptionStrategy::getGlobalDelta</a>() {
00107         <a class="code" href="types_8h.html#a10">Real</a> Result=0;
00108         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00109                 Result+=<a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i]*(<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i])-&gt;getDelta();
00110         }
00111         <span class="keywordflow">return</span> Result;
00112 }
00113 
<a name="l00114"></a><a class="code" href="classOptionStrategy.html#a12">00114</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a12">OptionStrategy::getGlobalGamma</a>() {
00115         <a class="code" href="types_8h.html#a10">Real</a> Result=0;
00116         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00117                 Result+=<a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i]*(<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i])-&gt;getGamma();
00118         }
00119         <span class="keywordflow">return</span> Result;
00120 }
00121 
<a name="l00122"></a><a class="code" href="classOptionStrategy.html#a13">00122</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a13">OptionStrategy::getGlobalVega</a>() {
00123         <a class="code" href="types_8h.html#a10">Real</a> Result=0;
00124         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00125                 Result+=<a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i]*(<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i])-&gt;getVega();
00126         }
00127         <span class="keywordflow">return</span> Result;
00128 }
00129 
<a name="l00130"></a><a class="code" href="classOptionStrategy.html#a14">00130</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a14">OptionStrategy::getGlobalTheta</a>() {
00131         <a class="code" href="types_8h.html#a10">Real</a> Result=0;
00132         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00133                 Result+=<a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i]*(<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i])-&gt;getTheta();
00134         }
00135         <span class="keywordflow">return</span> Result;
00136 }
00137 
<a name="l00138"></a><a class="code" href="classOptionStrategy.html#a15">00138</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a15">OptionStrategy::getGlobalRho</a>() {
00139         <a class="code" href="types_8h.html#a10">Real</a> Result=0;
00140         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00141                 Result+=<a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i]*(<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i])-&gt;getRho();
00142         }
00143         <span class="keywordflow">return</span> Result;
00144 }
00145 
00146 
<a name="l00147"></a><a class="code" href="classOptionStrategy.html#a18">00147</a> <a class="code" href="types_8h.html#a7">Natural</a> <a class="code" href="classOptionStrategy.html#a18">OptionStrategy::returnNbOptions</a>()<span class="keyword"> const</span>{
00148         <span class="keywordflow">return</span> <a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;
00149 }
00150 
<a name="l00151"></a><a class="code" href="classOptionStrategy.html#a19">00151</a> <a class="code" href="classBlackScholes.html">BlackScholes</a>* <a class="code" href="classOptionStrategy.html#a19">OptionStrategy::returnOption</a>(<a class="code" href="types_8h.html#a7">Natural</a> i)<span class="keyword"> const</span>{
00152         <span class="keywordflow">if</span> (i&lt;<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>.size()) <span class="keywordflow">return</span> <a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i];
00153         <span class="keywordflow">else</span> <span class="keywordflow">return</span> NULL;
00154 }
00155 
<a name="l00156"></a><a class="code" href="classOptionStrategy.html#a20">00156</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classOptionStrategy.html#a20">OptionStrategy::returnOptionQuantity</a>(<a class="code" href="types_8h.html#a7">Natural</a> i)<span class="keyword"> const</span>{
00157         <span class="keywordflow">if</span> (i&lt;<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>.size()) <span class="keywordflow">return</span> <a class="code" href="classOptionStrategy.html#r3">_insideQuantities</a>[i];
00158         <span class="keywordflow">else</span> <span class="keywordflow">return</span> NULL;
00159 }
00160 
<a name="l00161"></a><a class="code" href="classOptionStrategy.html#a21">00161</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a21">OptionStrategy::changeRate</a>(<a class="code" href="types_8h.html#a10">Real</a> addConstant) {
00162         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00163                 <a class="code" href="classBlackScholes.html">BlackScholes</a>&amp; bs=*<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i];
00164                 bs.<a class="code" href="classBlackScholes.html#b0">changeRate</a>(bs.<a class="code" href="classBlackScholes.html#a11">getRate</a>()+addConstant);
00165         }
00166 }
00167 
<a name="l00168"></a><a class="code" href="classOptionStrategy.html#a22">00168</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a22">OptionStrategy::changeVol</a>(<a class="code" href="types_8h.html#a10">Real</a> addConstant) {
00169         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00170                 <a class="code" href="classBlackScholes.html">BlackScholes</a>&amp; bs=*<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i];
00171                 bs.<a class="code" href="classBlackScholes.html#b1">changeVol</a>(bs.<a class="code" href="classBlackScholes.html#a9">getVolatility</a>()+addConstant);
00172         }
00173 }
00174 
<a name="l00175"></a><a class="code" href="classOptionStrategy.html#a23">00175</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a23">OptionStrategy::changeMaturity</a>(<a class="code" href="types_8h.html#a10">Real</a> addConstant) {
00176         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00177                 <a class="code" href="classBlackScholes.html">BlackScholes</a>&amp; bs=*<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i];
00178                 bs.<a class="code" href="classBlackScholes.html#b2">changeMaturity</a>(bs.<a class="code" href="classBlackScholes.html#a13">getMaturity</a>()+addConstant);
00179         }
00180 }
00181 
<a name="l00182"></a><a class="code" href="classOptionStrategy.html#a24">00182</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a24">OptionStrategy::changeSpot</a>(<a class="code" href="types_8h.html#a10">Real</a> addConstant) {
00183         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00184                 <a class="code" href="classBlackScholes.html">BlackScholes</a>&amp; bs=*<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i];
00185                 bs.<a class="code" href="classBlackScholes.html#b3">changeSpot</a>(bs.<a class="code" href="classBlackScholes.html#a12">getSpot</a>()+addConstant);
00186         }
00187 }
00188 
<a name="l00189"></a><a class="code" href="classOptionStrategy.html#a25">00189</a> <span class="keywordtype">void</span> <a class="code" href="classOptionStrategy.html#a25">OptionStrategy::changeStrike</a>(<a class="code" href="types_8h.html#a10">Real</a> addConstant) {
00190         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classOptionStrategy.html#r1">_nbOptions</a>;i++) {
00191                 <a class="code" href="classBlackScholes.html">BlackScholes</a>&amp; bs=*<a class="code" href="classOptionStrategy.html#r2">_insideOptions</a>[i];
00192                 bs.<a class="code" href="classBlackScholes.html#b4">changeStrike</a>(bs.<a class="code" href="classBlackScholes.html#a10">getStrike</a>()+addConstant);
00193         }
00194 }
00195 
<a name="l00196"></a><a class="code" href="OptionStrategy_8cpp.html#a0">00196</a> ostream&amp; <a class="code" href="convertiblebond_8cpp.html#a0">operator &lt;&lt; </a>(ostream &amp;os, <span class="keyword">const</span> <a class="code" href="classOptionStrategy.html">OptionStrategy</a> &amp;optionStrategy) {
00197         os &lt;&lt; <span class="stringliteral">"Qty,\tType,\tSpot,\tStrike,\tVolatility,\tRate,\t\tExp"</span> &lt;&lt; endl;
00198         <span class="keywordtype">char</span>* type=<span class="keyword">new</span> <span class="keywordtype">char</span>[4];
00199         <span class="keywordflow">for</span> (<a class="code" href="types_8h.html#a7">Natural</a> i=0;i&lt;optionStrategy.<a class="code" href="classOptionStrategy.html#a18">returnNbOptions</a>(); i++) {
00200                 <span class="keywordflow">if</span> (optionStrategy.<a class="code" href="classOptionStrategy.html#a19">returnOption</a>(i)-&gt;<a class="code" href="classBlackScholes.html#a14">isCall</a>())   sprintf(type,<span class="stringliteral">"Call"</span>);
00201                 <span class="keywordflow">else</span> sprintf(type,<span class="stringliteral">"Put"</span>);
00202                 os &lt;&lt; optionStrategy.<a class="code" href="classOptionStrategy.html#a20">returnOptionQuantity</a>(i)&lt;&lt;<span class="stringliteral">",\t"</span> &lt;&lt; type &lt;&lt; <span class="stringliteral">",\t"</span> &lt;&lt; optionStrategy.<a class="code" href="classOptionStrategy.html#a19">returnOption</a>(i)-&gt;<a class="code" href="classBlackScholes.html#a12">getSpot</a>() &lt;&lt; <span class="stringliteral">",\t"</span> &lt;&lt; optionStrategy.<a class="code" href="classOptionStrategy.html#a19">returnOption</a>(i)-&gt;<a class="code" href="classBlackScholes.html#a10">getStrike</a>() &lt;&lt; <span class="stringliteral">",\t"</span> &lt;&lt; optionStrategy.<a class="code" href="classOptionStrategy.html#a19">returnOption</a>(i)-&gt;<a class="code" href="classBlackScholes.html#a9">getVolatility</a>() &lt;&lt; <span class="stringliteral">",\t"</span> &lt;&lt; optionStrategy.<a class="code" href="classOptionStrategy.html#a19">returnOption</a>(i)-&gt;<a class="code" href="classBlackScholes.html#a11">getRate</a>() &lt;&lt; <span class="stringliteral">",\t"</span>&lt;&lt; optionStrategy.<a class="code" href="classOptionStrategy.html#a19">returnOption</a>(i)-&gt;<a class="code" href="classBlackScholes.html#a13">getMaturity</a>() &lt;&lt; endl;
00203         }
00204         <span class="keywordflow">return</span> os;
00205 }
</pre></div><hr size="1"><address style="align: right;"><small>
<b>Note: Generated nightly - reload for latest version</b><br>
Generated on Thu Dec 22 13:21:44 2005 for <a href="http://terreneuve.sourceforge.net">terreneuve</a> by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.3.6</small></address>
</body>
</html>
