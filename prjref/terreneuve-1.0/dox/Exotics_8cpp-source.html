<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Exotics.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Exotics.cpp</h1><a href="Exotics_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#include "<a class="code" href="Exotics_8h.html">./Exotics.h</a>"</span>
00002 
<a name="l00003"></a><a class="code" href="classExotics.html#a0">00003</a> <a class="code" href="classExotics.html#a0">Exotics::Exotics</a>(exoticsType type,<a class="code" href="classyieldCurve.html">yieldCurve</a>* curve,<a class="code" href="classvolsurface.html">volsurface</a>* surface,<a class="code" href="types_8h.html#a10">Real</a> spot,<a class="code" href="types_8h.html#a10">Real</a> strike,
00004                 <a class="code" href="types_8h.html#a10">Real</a> Expiry,<a class="code" href="types_8h.html#a9">LongNatural</a> nDates,<a class="code" href="types_8h.html#a10">Real</a> strike2,<a class="code" href="types_8h.html#a9">LongNatural</a> nPaths)
00005                 :       _type(type),
00006                         _yieldCurve(curve),
00007                         _volSurface(surface),
00008                         _spot(spot),
00009                         _strike(strike),
00010                         _strike2(strike2),
00011                         _expiry(Expiry),
00012                         _nPaths(nPaths),
00013                         _nDates(nDates)
00014 {
00015 }
00016 
<a name="l00017"></a><a class="code" href="classExotics.html#a1">00017</a> <a class="code" href="classExotics.html#a1">Exotics::~Exotics</a>(<span class="keywordtype">void</span>)
00018 {
00019 }
00020 
<a name="l00021"></a><a class="code" href="classExotics.html#a2">00021</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classExotics.html#a2">Exotics::getPrice</a>() {
00022         <span class="keywordflow">switch</span> (_type) {
00023                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a2">AsianCall</a>:
00024                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,3);
00025                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a3">AsianPut</a>:
00026                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,4);
00027                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a4">RevLookbackCall</a>:
00028                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,5);
00029                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a5">RevLookbackPut</a>:
00030                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,6);
00031                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a9">BarrierCall</a>:
00032                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,7);
00033                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a10">BarrierPut</a>:
00034                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,8);
00035                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a6">FlooredCliquet</a>:
00036                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,9);
00037                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a7">CappedCliquet</a>:
00038                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,10);
00039                 <span class="keywordflow">case</span> <a class="code" href="Exotics_8h.html#a12a8">CollaredCliquet</a>:
00040                         <span class="keywordflow">return</span> <a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,_strike,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,9)+<a class="code" href="mainmontecarlo_8cpp.html#a1">mainmc</a>(<a class="code" href="classExotics.html#r1">_expiry</a>,<a class="code" href="classExotics.html#r4">_strike2</a>,_spot,<a class="code" href="classExotics.html#r5">_volSurface</a>,_yieldCurve,<a class="code" href="classExotics.html#r7">_nPaths</a>,<a class="code" href="classExotics.html#r8">_nDates</a>,10);
00041                 <span class="keywordflow">default</span>:
00042                         <span class="keywordflow">return</span> 0.;
00043         }
00044 }
00045 
<a name="l00046"></a><a class="code" href="classExotics.html#a6">00046</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classExotics.html#a6">Exotics::getDelta</a>() {
00047         <a class="code" href="types_8h.html#a10">Real</a> result=0.;
00048         result=<a class="code" href="classExotics.html#a2">getPrice</a>();
00049         _spot*=1.01;
00050         result-=<a class="code" href="classExotics.html#a2">getPrice</a>();
00051         _spot/=1.01;
00052         <span class="keywordflow">return</span> result;
00053 }
00054 
<a name="l00055"></a><a class="code" href="classExotics.html#a3">00055</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classExotics.html#a3">Exotics::getRho</a>() {
00056         <a class="code" href="types_8h.html#a10">Real</a> result=0.;
00057         result=<a class="code" href="classExotics.html#a2">getPrice</a>();
00058         _yieldCurve-&gt;<a class="code" href="classyieldCurve.html#a4">shiftZCBRateCurve</a>();
00059         result-=<a class="code" href="classExotics.html#a2">getPrice</a>();
00060         _yieldCurve-&gt;<a class="code" href="classyieldCurve.html#a4">shiftZCBRateCurve</a>(-defaultshiftfactorForShortRate);
00061         <span class="keywordflow">return</span> result;
00062 }
00063 
<a name="l00064"></a><a class="code" href="classExotics.html#a4">00064</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classExotics.html#a4">Exotics::getTheta</a>() {
00065         <a class="code" href="types_8h.html#a10">Real</a> result=0.;
00066         result=<a class="code" href="classExotics.html#a2">getPrice</a>();
00067         <a class="code" href="classyieldCurve.html">yieldCurve</a> yield=*_yieldCurve;
00068         _yieldCurve-&gt;<a class="code" href="classyieldCurve.html#a17">forwardZCBCurve</a>(defaultAdvDays/365);
00069         <a class="code" href="classvolsurface.html">volsurface</a> volsurf=*<a class="code" href="classExotics.html#r5">_volSurface</a>;
00070         <a class="code" href="classDate.html">Date</a> advDate=<a class="code" href="classDate.html">Date</a>();
00071         advDate.<a class="code" href="classDate.html#a13">setDateToToday</a>();
00072         advDate.<a class="code" href="classDate.html#a28">plusDays</a>((<a class="code" href="types_8h.html#a6">Integer</a>)defaultAdvDays);
00073         _volSurface=&amp;_volSurface-&gt;<a class="code" href="classvolsurface.html#a12">forwardvolsurface</a>(advDate);
00074         result-=<a class="code" href="classExotics.html#a2">getPrice</a>();
00075         _yieldCurve=&amp;yield;
00076         _volSurface=&amp;volsurf;
00077         <span class="keywordflow">return</span> result;
00078 }
00079 
<a name="l00080"></a><a class="code" href="classExotics.html#a5">00080</a> <a class="code" href="types_8h.html#a10">Real</a> <a class="code" href="classExotics.html#a5">Exotics::getVega</a>() {
00081         <a class="code" href="types_8h.html#a10">Real</a> result=0.;
00082         result=<a class="code" href="classExotics.html#a2">getPrice</a>();
00083         <a class="code" href="classExotics.html#r5">_volSurface</a>-&gt;<a class="code" href="classvolsurface.html#a14">shiftedvolsurface</a>(defaultShiftVolSurface);
00084         result-=<a class="code" href="classExotics.html#a2">getPrice</a>();
00085         <a class="code" href="classExotics.html#r5">_volSurface</a>-&gt;<a class="code" href="classvolsurface.html#a14">shiftedvolsurface</a>(-defaultShiftVolSurface);
00086         <span class="keywordflow">return</span> result;
00087 }
</pre></div><hr size="1"><address style="align: right;"><small>
<b>Note: Generated nightly - reload for latest version</b><br>
Generated on Thu Dec 22 13:21:43 2005 for <a href="http://terreneuve.sourceforge.net">terreneuve</a> by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.3.6</small></address>
</body>
</html>
