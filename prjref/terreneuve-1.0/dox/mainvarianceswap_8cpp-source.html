<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mainvarianceswap.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>mainvarianceswap.cpp</h1><a href="mainvarianceswap_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#include "../PartA/BlackScholes/OptionStrategy.h"</span>
00002 <span class="preprocessor">#include "../PartK/VarianceSwap.h"</span>
00003 
00004 <span class="preprocessor">#include&lt;iostream&gt;</span>
00005 <span class="preprocessor">#include&lt;valarray&gt;</span>
00006 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00007 
00008 
<a name="l00009"></a><a class="code" href="mainvarianceswap_8cpp.html#a0">00009</a> <span class="keywordtype">bool</span> <a class="code" href="testObjects_8h.html#a15">mainvarianceswap</a>(<span class="keywordtype">void</span>) {
00010 
00011         <span class="comment">//Create basket of options</span>
00012         <a class="code" href="types_8h.html#a10">Real</a> spot=100,strike1=90,strike2=110,vol1=0.2,vol2=0.22,vol3=0.21,mat=1.,rate=0.02;
00013         <a class="code" href="classOptionStrategy.html">OptionStrategy</a>* Strategy=<span class="keyword">new</span> <a class="code" href="classOptionStrategy.html">OptionStrategy</a>();
00014         Strategy-&gt;<a class="code" href="classOptionStrategy.html#a7">addLongButterflySpread</a>(spot,vol1,<span class="keyword">true</span>,vol2,<span class="keyword">true</span>,vol3,<span class="keyword">true</span>,rate,strike1,strike2,mat,10);
00015 
00016         <span class="comment">//Compute value of VIX index</span>
00017         <a class="code" href="types_8h.html#a10">Real</a> Kmin=200,Kmax=3500,step=10,Mat=1./12,SpotVix=1200,Fwd,ratevix=0.043,volvix=0.33;
00018         <a class="code" href="types_8h.html#a10">Real</a> strike,result;
00019         Fwd=SpotVix*exp(ratevix/12);
00020         OptionStrategy* optionsVix=<span class="keyword">new</span> OptionStrategy();
00021         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;
00022         valarray&lt;BlackScholes&gt; bs;
00023         bs.resize(<a class="code" href="types_8h.html#a7">Natural</a>((Kmax-Kmin)/step+1));
00024         <span class="keywordflow">while</span> (Kmin+i*step&lt;=Kmax) {
00025                 strike=Kmin+i*step;
00026                 <span class="keywordflow">if</span> (strike&lt;=Fwd)
00027                         bs[i]=<a class="code" href="classBlackScholes.html">BlackScholes</a>(SpotVix,volvix,<span class="keyword">true</span>,ratevix,strike,Mat,<a class="code" href="BlackScholes_8h.html#a2a1">Put</a>);
00028                 <span class="keywordflow">else</span>
00029                         bs[i]=BlackScholes(SpotVix,volvix,<span class="keyword">true</span>,ratevix,strike,Mat,<a class="code" href="BlackScholes_8h.html#a2a0">Call</a>);
00030                 optionsVix-&gt;<a class="code" href="classOptionStrategy.html#a3">addOneBlackScholesObject</a>(&amp;bs[i],1);
00031                 i++;
00032         }
00033         <a class="code" href="classVarianceSwap.html">VarianceSwap</a>* vix=<span class="keyword">new</span> <a class="code" href="classVarianceSwap.html">VarianceSwap</a>(optionsVix,Mat,Fwd);
00034         result=100*vix-&gt;<a class="code" href="classVarianceSwap.html#a2">getPrice</a>();
00035         cout&lt;&lt;<span class="stringliteral">"The price of vix index is : "</span>&lt;&lt;result&lt;&lt;<span class="stringliteral">" for a forward price of "</span>&lt;&lt;Fwd&lt;&lt;<span class="stringliteral">" and vol of "</span>&lt;&lt;volvix&lt;&lt;<span class="stringliteral">" and rate of "</span>&lt;&lt;ratevix&lt;&lt;endl;
00036 
00037         <span class="comment">//Create Variance Swap</span>
00038         VarianceSwap myvarswap=VarianceSwap(Strategy,1.,100);
00039         <a class="code" href="types_8h.html#a10">Real</a> price=myvarswap.<a class="code" href="classVarianceSwap.html#a2">getPrice</a>();
00040         cout&lt;&lt;<span class="stringliteral">"The price of the variance swap is "</span> &lt;&lt; myvarswap.<a class="code" href="classVarianceSwap.html#a2">getPrice</a>() &lt;&lt;endl;
00041         <span class="keywordflow">if</span> (price&gt;0.015 &amp;&amp; price &lt;0.02) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00042         <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
00043 }
</pre></div><hr size="1"><address style="align: right;"><small>
<b>Note: Generated nightly - reload for latest version</b><br>
Generated on Thu Dec 22 13:21:44 2005 for <a href="http://terreneuve.sourceforge.net">terreneuve</a> by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.3.6</small></address>
</body>
</html>
